  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (36.0ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Artisanals"], ["created_at", "2019-09-19 07:54:38.596865"], ["updated_at", "2019-09-19 07:54:38.596865"]]
  [1m[35m (50.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Boissons"], ["created_at", "2019-09-19 07:54:38.689136"], ["updated_at", "2019-09-19 07:54:38.689136"]]
  [1m[35m (24.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits laitiers"], ["created_at", "2019-09-19 07:54:38.719429"], ["updated_at", "2019-09-19 07:54:38.719429"]]
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Charcuteries"], ["created_at", "2019-09-19 07:54:38.741432"], ["updated_at", "2019-09-19 07:54:38.741432"]]
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Fruits et LÃ©gumes"], ["created_at", "2019-09-19 07:54:38.763583"], ["updated_at", "2019-09-19 07:54:38.763583"]]
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Conserves"], ["created_at", "2019-09-19 07:54:38.785759"], ["updated_at", "2019-09-19 07:54:38.785759"]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits de la mer"], ["created_at", "2019-09-19 07:54:38.808309"], ["updated_at", "2019-09-19 07:54:38.808309"]]
  [1m[35m (39.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Graines"], ["created_at", "2019-09-19 07:54:38.852832"], ["updated_at", "2019-09-19 07:54:38.852832"]]
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Assaisonnement"], ["created_at", "2019-09-19 07:54:38.874845"], ["updated_at", "2019-09-19 07:54:38.874845"]]
  [1m[35m (15.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits alimentaires"], ["created_at", "2019-09-19 07:54:38.896877"], ["updated_at", "2019-09-19 07:54:38.896877"]]
  [1m[35m (16.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits agricoles"], ["created_at", "2019-09-19 07:54:38.919112"], ["updated_at", "2019-09-19 07:54:38.919112"]]
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (29.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5025.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (702.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (629.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_test"[0m
  [1m[35m (2632.7ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_development" ENCODING = 'unicode'[0m
  [1m[35m (1493.6ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_test" ENCODING = 'unicode'[0m
  [1m[35m (240.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (174.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3281140153614043980)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20190910114606)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (140.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying DEFAULT '' NOT NULL, "last_name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "address" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_admin" boolean DEFAULT FALSE)[0m
  [1m[35m (85.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (63.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190910114606"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20190911051137)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (164.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "title" character varying, "description" text, "price" float, "image_url" character varying, "provider_id" bigint, "category_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.3ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_provider_id" ON "products"  ("provider_id")[0m
  [1m[35m (129.8ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_category_id" ON "products"  ("category_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051137"]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20190911051311)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (179.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "title" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051311"]]
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20190911051333)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (71.4ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (63.0ms)[0m  [1m[35mCREATE  INDEX  "index_carts_on_customer_id" ON "carts"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051333"]]
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLikes (20190911051349)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (72.0ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "customer_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (52.5ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_customer_id" ON "likes"  ("customer_id")[0m
  [1m[35m (52.2ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_product_id" ON "likes"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051349"]]
  [1m[35m (38.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommands (20190911051441)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (136.0ms)[0m  [1m[35mCREATE TABLE "commands" ("id" bigserial primary key, "stripe_customer_id" character varying, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (70.6ms)[0m  [1m[35mCREATE  INDEX  "index_commands_on_customer_id" ON "commands"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051441"]]
  [1m[35m (14.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartProducts (20190911051729)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (122.1ms)[0m  [1m[35mCREATE TABLE "cart_products" ("id" bigserial primary key, "quantity" integer, "cart_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (119.4ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_cart_id" ON "cart_products"  ("cart_id")[0m
  [1m[35m (86.9ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_product_id" ON "cart_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051729"]]
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommandProducts (20190911051742)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.9ms)[0m  [1m[35mCREATE TABLE "command_products" ("id" bigserial primary key, "command_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (53.0ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_command_id" ON "command_products"  ("command_id")[0m
  [1m[35m (53.1ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_product_id" ON "command_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051742"]]
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCities (20190911063151)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (135.8ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying, "zip_code" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063151"]]
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20190911063650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (160.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (61.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (133.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (85.4ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (84.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063650"]]
  [1m[35m (20.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-09-19 07:56:40.848908"], ["updated_at", "2019-09-19 07:56:40.848908"]]
  [1m[35m (19.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3281140153614043980)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Artisanals"], ["created_at", "2019-09-19 07:56:41.062083"], ["updated_at", "2019-09-19 07:56:41.062083"]]
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Boissons"], ["created_at", "2019-09-19 07:56:41.107460"], ["updated_at", "2019-09-19 07:56:41.107460"]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits laitiers"], ["created_at", "2019-09-19 07:56:41.129605"], ["updated_at", "2019-09-19 07:56:41.129605"]]
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Charcuteries"], ["created_at", "2019-09-19 07:56:41.151816"], ["updated_at", "2019-09-19 07:56:41.151816"]]
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Fruits et LÃ©gumes"], ["created_at", "2019-09-19 07:56:41.174135"], ["updated_at", "2019-09-19 07:56:41.174135"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Conserves"], ["created_at", "2019-09-19 07:56:41.195963"], ["updated_at", "2019-09-19 07:56:41.195963"]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits de la mer"], ["created_at", "2019-09-19 07:56:41.218125"], ["updated_at", "2019-09-19 07:56:41.218125"]]
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Graines"], ["created_at", "2019-09-19 07:56:41.251468"], ["updated_at", "2019-09-19 07:56:41.251468"]]
  [1m[35m (39.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Assaisonnement"], ["created_at", "2019-09-19 07:56:41.296346"], ["updated_at", "2019-09-19 07:56:41.296346"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits alimentaires"], ["created_at", "2019-09-19 07:56:41.318487"], ["updated_at", "2019-09-19 07:56:41.318487"]]
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits agricoles"], ["created_at", "2019-09-19 07:56:41.340582"], ["updated_at", "2019-09-19 07:56:41.340582"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/carts.1" for ::1 at 2019-09-19 10:58:42 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

AbstractController::ActionNotFound - The action 'index' could not be found for CartsController:

Started POST "/__better_errors/16a46142dde7caf4/variables" for ::1 at 2019-09-19 10:58:42 +0300
Started GET "/" for ::1 at 2019-09-19 10:58:49 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 10.9ms | Allocations: 4717)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.7ms | Allocations: 1004)
  Rendered products/index.html.erb within layouts/application (Duration: 20.7ms | Allocations: 8010)
Completed 200 OK in 1163ms (Views: 1088.6ms | ActiveRecord: 12.0ms | Allocations: 1317982)


Started GET "/users/sign_up" for ::1 at 2019-09-19 10:58:55 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"9tGjoOfFaCk6+ZVQKHAMgr2/FBoK8LmJOFzrSKvczkCd4ih6b2sODCRBDmQaaNgPsvnJuxiqisnhj0M1RxLpgA=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 553)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2488)
Completed 200 OK in 68ms (Views: 52.7ms | ActiveRecord: 0.0ms | Allocations: 38382)


Started POST "/users" for ::1 at 2019-09-19 10:59:15 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"r6gjsVHfwFCwY0to/guHPh2XPBXVo+/hRjv7x05Ln4HEm6hr2XGmda7b0FzME1OzEtHhtMf53KGf6FO6ooW4QQ==", "user"=>{"first_name"=>"Mada", "last_name"=>"Market", "email"=>"madamarket@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "madamarket@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Mada"], ["last_name", "Market"], ["email", "madamarket@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$b6xHX2CPDaWDLD0KMOvvfeZfdZC6sAorINGCX2ixU4iv6X765DXQq"], ["created_at", "2019-09-19 07:59:15.510234"], ["updated_at", "2019-09-19 07:59:15.510234"]]
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 1], ["created_at", "2019-09-19 07:59:15.523513"], ["updated_at", "2019-09-19 07:59:15.523513"]]
  â³ app/models/user.rb:21:in `add_cart'
  [1m[35m (25.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 286ms (ActiveRecord: 31.4ms | Allocations: 192163)


Started GET "/" for ::1 at 2019-09-19 10:59:15 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 22.7ms | Allocations: 8885)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.6ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 26.2ms | Allocations: 10443)
Completed 200 OK in 55ms (Views: 42.9ms | ActiveRecord: 9.5ms | Allocations: 38672)


Started GET "/users/1" for ::1 at 2019-09-19 10:59:20 +0300
Processing by UsersController#show as HTML
  Parameters: {"authenticity_token"=>"0aqFu3cF1Z1pCGmZWPQEI3zd9sOAK2vf4wL91QoyA+y6mQ5h/6uzuHew8q1q7NCuc5srYpJxWJ860VWo5vwkLA==", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/views/users/show.html.erb:58
  Rendered users/show.html.erb within layouts/application (Duration: 31.8ms | Allocations: 3524)
Completed 200 OK in 59ms (Views: 53.0ms | ActiveRecord: 3.4ms | Allocations: 33052)


Started GET "/users/1/edit" for ::1 at 2019-09-19 10:59:22 +0300
Processing by UsersController#edit as HTML
  Parameters: {"authenticity_token"=>"WjKz7a5u3CrbKGDsGbDp1G0tEmVk3VeQIB0C2W6joAsxATg3JsC6D8WQ+9grqD1ZYmvPxHaHZND5zqqkgm2Hyw==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:7:in `edit'
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1997)
Completed 200 OK in 64ms (Views: 61.1ms | ActiveRecord: 0.4ms | Allocations: 30450)


Started PUT "/users/1" for ::1 at 2019-09-19 10:59:24 +0300
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"iFbURXw9Xo/PIz3PMmXFhj2l+YRGYlKktj+7tr/UVzrjZV+f9JM4qtGbpvsAfRELMuMkJVQ4YeRv7BPLUxpw+g==", "first_name"=>"Mada", "last_name"=>"Market", "email"=>"madamarket@gmail.com", "is_admin"=>"1", "commit"=>"Modifier le profil", "id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:11:in `update'
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/users_controller.rb:16:in `update'
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "is_admin" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["is_admin", true], ["updated_at", "2019-09-19 07:59:24.513003"], ["id", 1]]
  â³ app/controllers/users_controller.rb:16:in `update'
  [1m[35m (25.6ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/users_controller.rb:16:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/users_controller.rb:21:in `update'
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:21:in `update'
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/users_controller.rb:21:in `update'
Redirected to http://localhost:3000/users/1
Completed 302 Found in 74ms (ActiveRecord: 34.7ms | Allocations: 6527)


Started GET "/users/1" for ::1 at 2019-09-19 10:59:24 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/views/users/show.html.erb:58
  Rendered users/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1242)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.8ms | Allocations: 376)
Completed 200 OK in 81ms (Views: 73.1ms | ActiveRecord: 4.6ms | Allocations: 30718)


Started GET "/admin/products/new" for ::1 at 2019-09-19 10:59:26 +0300
Processing by Admin::ProductsController#new as HTML
  Parameters: {"authenticity_token"=>"iH5hNJ6lVXVHCSQl62E29Ox+CHDBsXi0pvQ8/sNEP6PjTeruFgszUFmxvxHZeeJ54zjV0dPrS/R/J5SDL4oYYw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/admin/products/new.html.erb:22:in `collect'
  Rendered admin/products/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1969)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.2ms | Allocations: 75)
Completed 200 OK in 41ms (Views: 29.5ms | ActiveRecord: 0.7ms | Allocations: 36882)


Started POST "/admin/products" for ::1 at 2019-09-19 10:59:39 +0300
Processing by Admin::ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"NLjgFESDcLvRDess/+WXvGqftbmlcADDdYen5PigYa5fi2vOzC0Wns+1cBjN/UMxZdloGLcqM4OsVA+ZFG5Gbg==", "title"=>"Sakoa", "description"=>"tsara be", "price"=>"5000", "image_url"=>"https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151561849_n.jpg?_nc_ht=scontent-frx5-1.cdninstagram.com", "category_id"=>"5", "commit"=>"CrÃ©er"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "provider_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Sakoa"], ["description", "tsara be"], ["price", 5000.0], ["image_url", "https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151561849_n.jpg?_nc_ht=scontent-frx5-1.cdninstagram.com"], ["provider_id", 1], ["category_id", 5], ["created_at", "2019-09-19 07:59:39.291905"], ["updated_at", "2019-09-19 07:59:39.291905"]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[35m (60.2ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 79ms (ActiveRecord: 62.7ms | Allocations: 6580)


Started GET "/admin/products" for ::1 at 2019-09-19 10:59:39 +0300
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."provider_id" = $1 ORDER BY "products"."created_at" DESC[0m  [["provider_id", 1]]
  â³ app/views/admin/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/admin/products/index.html.erb:14
  Rendered admin/products/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2623)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.2ms | Allocations: 73)
Completed 200 OK in 36ms (Views: 30.2ms | ActiveRecord: 3.0ms | Allocations: 31768)


Started GET "/admin/products/new" for ::1 at 2019-09-19 10:59:41 +0300
Processing by Admin::ProductsController#new as HTML
  Parameters: {"authenticity_token"=>"3Pmvfl6pAMeq+z1xplwuD5eB3tzsqoAW4WhDOZjusqK3yiSk1gdm4rRDpkWURPqCmMcDff7ws1Y4u+tEdCCVYg=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/new.html.erb within layouts/application
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/admin/products/new.html.erb:22:in `collect'
  Rendered admin/products/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1476)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.2ms | Allocations: 69)
Completed 200 OK in 35ms (Views: 30.5ms | ActiveRecord: 1.1ms | Allocations: 30548)


Started POST "/admin/products" for ::1 at 2019-09-19 10:59:51 +0300
Processing by Admin::ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"29wz556SObdvNmolsJ2IfcroODjsTWfKDu+P7339LUuw77g9FjxfknGO8RGChVzwxa7lmf4XVIrXPCeSkTMKiw==", "title"=>"Harona", "description"=>"Tsara be", "price"=>"10000", "image_url"=>"https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151561849_n.jpg?_nc_ht=scontent-frx5-1.cdninstagram.com", "category_id"=>"1", "commit"=>"CrÃ©er"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mProduct Create (2.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "provider_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Harona"], ["description", "Tsara be"], ["price", 10000.0], ["image_url", "https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151561849_n.jpg?_nc_ht=scontent-frx5-1.cdninstagram.com"], ["provider_id", 1], ["category_id", 1], ["created_at", "2019-09-19 07:59:51.523360"], ["updated_at", "2019-09-19 07:59:51.523360"]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[35m (66.6ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 80ms (ActiveRecord: 71.8ms | Allocations: 5344)


Started GET "/admin/products" for ::1 at 2019-09-19 10:59:51 +0300
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."provider_id" = $1 ORDER BY "products"."created_at" DESC[0m  [["provider_id", 1]]
  â³ app/views/admin/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/admin/products/index.html.erb:14
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/admin/products/index.html.erb:14
  Rendered admin/products/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2738)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.2ms | Allocations: 68)
Completed 200 OK in 43ms (Views: 36.8ms | ActiveRecord: 3.0ms | Allocations: 31824)


Started DELETE "/users/sign_out" for ::1 at 2019-09-19 10:59:54 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Ivo/JJriiabTLyspeGK8Marqkgl5p5w+XTcoIyqRQQpJybT+Ekzvg82XsB1Kemi8paxPqGv9r36E5IBexl9myg=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 37ms (ActiveRecord: 0.3ms | Allocations: 2678)


Started GET "/" for ::1 at 2019-09-19 10:59:54 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 4.2ms | Allocations: 1057)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.5ms | Allocations: 803)
  Rendered products/index.html.erb within layouts/application (Duration: 27.3ms | Allocations: 4700)
Completed 200 OK in 53ms (Views: 48.6ms | ActiveRecord: 3.1ms | Allocations: 32267)


Started GET "/users/sign_in" for ::1 at 2019-09-19 10:59:56 +0300
Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"5CKApGOgrUrOd4qUnv3lV6jNuSOGxTXB31iRt7EPTqM6RkN+OlqFm3pKu+v6rMsJLFpbWIyurzQ7DyuynW+VFQ=="}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 213)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1469)
Completed 200 OK in 36ms (Views: 34.8ms | ActiveRecord: 0.0ms | Allocations: 29905)


Started GET "/users/sign_up" for ::1 at 2019-09-19 11:00:01 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 760)
Completed 200 OK in 37ms (Views: 35.7ms | ActiveRecord: 0.0ms | Allocations: 28460)


Started POST "/users" for ::1 at 2019-09-19 11:00:19 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"J7cg4YrWELvGBhecRHfNFMn6U+jAyIJQ4bhQ3PsXvoZ9Gm8+ZwXYuIQd8YrlZ1eT/WT0mahXzZdhUuMO2tltrA==", "user"=>{"first_name"=>"client", "last_name"=>"client", "email"=>"client@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "client@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 78)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 754)
Completed 200 OK in 183ms (Views: 26.2ms | ActiveRecord: 0.7ms | Allocations: 34317)


Started POST "/users" for ::1 at 2019-09-19 11:00:27 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"U06/9iKp6xmvt4F6GmrDKbVsMgw6wIKQ75b/FNAWDa2NKnwse1PDyBuKsAV+O+13MfvQdzCrGGULwUUR/HbWGw==", "user"=>{"first_name"=>"client", "last_name"=>"client", "email"=>"client@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "client@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "client"], ["last_name", "client"], ["email", "client@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$X64YFYCjxUVeQ6GU6q2HrOMI6UqsQjuqQSesrhtlTWLFH/VJ1rp.a"], ["created_at", "2019-09-19 08:00:27.376930"], ["updated_at", "2019-09-19 08:00:27.376930"]]
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 2], ["created_at", "2019-09-19 08:00:27.379548"], ["updated_at", "2019-09-19 08:00:27.379548"]]
  â³ app/models/user.rb:21:in `add_cart'
  [1m[35m (19.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 184ms (ActiveRecord: 23.4ms | Allocations: 8055)


Started GET "/" for ::1 at 2019-09-19 11:00:27 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (2.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 13.5ms | Allocations: 3270)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.7ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 27.5ms | Allocations: 6911)
Completed 200 OK in 77ms (Views: 68.4ms | ActiveRecord: 6.6ms | Allocations: 35230)


Started POST "/carts.1" for ::1 at 2019-09-19 11:00:30 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"my0AW9CM6ksJYhMkp8S4sBkMTR2zu6RKbfi7MA4yQ8hFScOBiXbCmr1fIlvDlZbunZuvZrnQPr+JrwE1IlKYfg=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 2], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[36mCartProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_products" ("quantity", "cart_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["cart_id", 2], ["product_id", 1], ["created_at", "2019-09-19 08:00:30.168149"], ["updated_at", "2019-09-19 08:00:30.168149"]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 66ms (ActiveRecord: 45.5ms | Allocations: 10171)


Started GET "/" for ::1 at 2019-09-19 11:00:30 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.9ms | Allocations: 3260)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.3ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 6899)
Completed 200 OK in 52ms (Views: 43.0ms | ActiveRecord: 6.8ms | Allocations: 35208)


Started POST "/carts.1" for ::1 at 2019-09-19 11:00:32 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"ZyGABB9MqCFcet2c4h5zNat47w3pnxhNhH74GlYGpIm5RUPeRraA8OhH7OOGT11rL+8NduP0grhgKUIfemZ/Pw=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 2], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[36mCartProduct Load (0.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 AND "cart_products"."product_id" = $2 LIMIT $3[0m  [["cart_id", 2], ["product_id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mCartProduct Update (0.5ms)[0m  [1m[33mUPDATE "cart_products" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_products"."id" = $3[0m  [["quantity", 2], ["updated_at", "2019-09-19 08:00:32.605526"], ["id", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 42ms (ActiveRecord: 22.0ms | Allocations: 9110)


Started GET "/" for ::1 at 2019-09-19 11:00:32 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 10.0ms | Allocations: 3260)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.1ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 6899)
Completed 200 OK in 47ms (Views: 39.2ms | ActiveRecord: 5.1ms | Allocations: 35204)


Started POST "/carts.2" for ::1 at 2019-09-19 11:00:34 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"jxn/gWheDFRtmYh+BQMcS/OdkMhpCec58zvQXI5/R5ZRfTxbMaQkhdmkuQFhUjIVdwpys2NifcwXbGpZoh+cIA=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 2], ["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[36mCartProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "cart_products" ("quantity", "cart_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["cart_id", 2], ["product_id", 2], ["created_at", "2019-09-19 08:00:34.860159"], ["updated_at", "2019-09-19 08:00:34.860159"]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (18.7ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 37ms (ActiveRecord: 26.9ms | Allocations: 5984)


Started GET "/" for ::1 at 2019-09-19 11:00:34 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 8.6ms | Allocations: 3260)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.5ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 6900)
Completed 200 OK in 43ms (Views: 36.1ms | ActiveRecord: 5.2ms | Allocations: 35203)


Started GET "/carts/2" for ::1 at 2019-09-19 11:00:38 +0300
Processing by CartsController#show as HTML
  Parameters: {"authenticity_token"=>"jbeMy8jXHitkni2gBbMP7CZgeE+TlVEm2ixMIk6aawJT008RkS02+tCjHN9h4iGyoveaNJn+y9M+e/YnYvqwtA==", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (0.7ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 6.4ms | Allocations: 2546)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:36
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 18.0ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 31.6ms | Allocations: 6078)
Completed 200 OK in 75ms (Views: 56.6ms | ActiveRecord: 7.2ms | Allocations: 37939)


Started GET "/charges/new" for ::1 at 2019-09-19 11:00:54 +0300
Processing by ChargesController#new as HTML
  Parameters: {"authenticity_token"=>"vIpOAybo6wO2OnhTL19yp73Qg98klPKmLex4JOqc9OVi7o3ZfxLD0gIHSSxLDlz5OUdhpC7/aFPJu8IhxvwvUw=="}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[35m (1.5ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/models/cart.rb:9:in `total_price'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 8.2ms | Allocations: 2547)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/views/charges/new.html.erb:36
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 12.8ms | Allocations: 4755)
Completed 200 OK in 54ms (Views: 36.8ms | ActiveRecord: 7.6ms | Allocations: 35933)


Started GET "/" for ::1 at 2019-09-19 11:45:23 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (14.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (16.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (2.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 80.5ms | Allocations: 13388)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 14.4ms | Allocations: 998)
  Rendered products/index.html.erb within layouts/application (Duration: 141.9ms | Allocations: 24470)
Completed 200 OK in 614ms (Views: 509.7ms | ActiveRecord: 38.0ms | Allocations: 66034)


Started DELETE "/users/sign_out" for ::1 at 2019-09-19 11:45:32 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"WvDCCjsrqqJw4B0BVqtDlAvYNN5ckpe/eSrnWrtSl0qElAHQYtGCc8TdLH4y+m3Kj0/WpVb5DUqdfV1flzJM/A=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 2609)


Started GET "/" for ::1 at 2019-09-19 11:45:32 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 2.9ms | Allocations: 1058)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.2ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 4698)
Completed 200 OK in 48ms (Views: 44.9ms | ActiveRecord: 1.7ms | Allocations: 32263)


Started GET "/users/sign_up" for ::1 at 2019-09-19 11:45:37 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"CzEnKnoakQVAIPVCr9JO4ZfuEZHtTykJoD0QfJqyNh+Gdk6rSOJhttMBrfnDmh2NNHRfNgXnXBapsIp60SGaoA=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 14.7ms | Allocations: 501)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 37.3ms | Allocations: 1946)
Completed 200 OK in 71ms (Views: 69.5ms | ActiveRecord: 0.0ms | Allocations: 30788)


Started POST "/users" for ::1 at 2019-09-19 11:46:05 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"QEdsN5ymVl/JlL4zWlsqKj4RjNZ2kMc9llXRQsqidPnNAAW2rl6m7Fq15og2E3lGnYvCcZ44siKf2EtEgTHYRg==", "user"=>{"first_name"=>"Rianas", "last_name"=>"Soa", "email"=>"rrianasoaonimalala@gmail.com", "address"=>"azerty", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rrianasoaonimalala@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (37.7ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Rianas"], ["last_name", "Soa"], ["email", "rrianasoaonimalala@gmail.com"], ["address", "azerty"], ["encrypted_password", "$2a$11$rz7cRCaaVhpxcV0OFbMlTe5V9NWhVLHVwBv0nTCky9iqMCQJrPBj2"], ["created_at", "2019-09-19 08:46:05.195546"], ["updated_at", "2019-09-19 08:46:05.195546"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.9ms | Allocations: 152)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 4.8ms | Allocations: 130)
UserMailer#welcome_email: processed outbound mail in 30.0ms
Delivered mail 5d83404d73416_180e2b0f5ddf62808216e@lenovoa18.mail (66.2ms)
Date: Thu, 19 Sep 2019 11:46:05 +0300
From: from@example.com
To: rrianasoaonimalala@gmail.com
Message-ID: <5d83404d73416_180e2b0f5ddf62808216e@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d83404d6c90e_180e2b0f5ddf6280820d4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d83404d6c90e_180e2b0f5ddf6280820d4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciBSaWFuYXMgZXQgYmllbnZlbnVlIGNoZXogbm91cyAhDQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQogDQpUdSB0J2VzIGluc2NyaXQgc3VyIG1hZGFtYXJrZXQg
ZW4gdXRpbGlzYW50IGwnZS1tYWlsIHN1aXZhbnQgOiBycmlhbmFzb2Fvbmlt
YWxhbGFAZ21haWwuY29tLg0KIA0KIA0Kw4AgdHLDqHMgdml0ZSBzdXIgbWFk
YW1hcmtldCAhDQo=

----==_mimepart_5d83404d6c90e_180e2b0f5ddf6280820d4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut Rianas et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : rria=
nasoaonimalala@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d83404d6c90e_180e2b0f5ddf6280820d4--

  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 3], ["created_at", "2019-09-19 08:46:05.514307"], ["updated_at", "2019-09-19 08:46:05.514307"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (35.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 547ms (ActiveRecord: 73.8ms | Allocations: 36809)


Started GET "/" for ::1 at 2019-09-19 11:46:05 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 3]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 14.0ms | Allocations: 3270)
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.5ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 28.3ms | Allocations: 6911)
Completed 200 OK in 66ms (Views: 52.7ms | ActiveRecord: 10.6ms | Allocations: 35227)


Started GET "/users/3" for ::1 at 2019-09-19 11:46:13 +0300
Processing by UsersController#show as HTML
  Parameters: {"authenticity_token"=>"kNHV4/F5JBoFfIFsiReHZrztGcg44GFkKam7bYv8ZjAdlrxiw4HUqZZd2dflX9QKH3dXb9BIFHsgJCFrwG/Kjw==", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/views/users/show.html.erb:58
  Rendered users/show.html.erb within layouts/application (Duration: 15.7ms | Allocations: 2215)
Completed 200 OK in 44ms (Views: 40.3ms | ActiveRecord: 0.9ms | Allocations: 31747)


Started GET "/users/3/edit" for ::1 at 2019-09-19 12:25:52 +0300
Processing by UsersController#edit as HTML
  Parameters: {"authenticity_token"=>"HbkRAVFxla8LVZJWAllvofbT35cBWF4XmdN2ww4plC2Q/niAY4llHJh0yu1uETzNVUmRMOnwKwiQXuzFRbo4kg==", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:7:in `edit'
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 18.8ms | Allocations: 1976)
Completed 200 OK in 55ms (Views: 50.2ms | ActiveRecord: 0.9ms | Allocations: 30531)


Started GET "/" for ::1 at 2019-09-19 12:25:58 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 3]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 12.8ms | Allocations: 3286)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.4ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 22.3ms | Allocations: 6972)
Completed 200 OK in 104ms (Views: 97.6ms | ActiveRecord: 4.2ms | Allocations: 35290)


Started GET "/accueil" for ::1 at 2019-09-19 12:33:15 +0300
Processing by AccueilController#index as HTML
  Parameters: {"authenticity_token"=>"05XjHh1K4uUkkqKJooF/2FCE9VzVRBrjGeEWkITq36Ve0oqfL7ISVrez+jLOySy08x67+z3sb/wQbIyWz3lzGg=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â³ app/controllers/accueil_controller.rb:4:in `index'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  â³ app/controllers/accueil_controller.rb:4:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" BETWEEN $1 AND $2 LIMIT $3[0m  [["id", 0], ["id", 3], ["LIMIT", 1]]
  â³ app/controllers/accueil_controller.rb:4:in `index'
  Rendering accueil/index.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:33
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 3]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.2ms | Allocations: 4604)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â³ app/views/accueil/index.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/accueil/index.html.erb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/accueil/index.html.erb:21
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/accueil/index.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/accueil/index.html.erb:48
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/accueil/index.html.erb:48
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 23.5ms | Allocations: 998)
  Rendered accueil/index.html.erb within layouts/application (Duration: 48.1ms | Allocations: 12124)
Completed 200 OK in 120ms (Views: 104.7ms | ActiveRecord: 7.9ms | Allocations: 42910)


Started GET "/accueil/1" for ::1 at 2019-09-19 12:33:20 +0300
Processing by AccueilController#show as HTML
  Parameters: {"authenticity_token"=>"7TNgBvTK0PoYiEtRvgDAqf6EunlqxQlE8sOrQhx5PhFgdAmHxjIgSYupE+rSSJPFXR703oJtfFv7TjFEV+qSrg==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/accueil_controller.rb:8:in `show'
  Rendering accueil/show.html.erb within layouts/application
  [1m[36mCategory Load (3.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:33
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 3]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 22.3ms | Allocations: 4173)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â³ app/views/accueil/show.html.erb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/accueil/show.html.erb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/accueil/show.html.erb:21
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."provider_id" = $1[0m  [["provider_id", 1]]
  â³ app/views/accueil/show.html.erb:42
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/accueil/show.html.erb:45
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/accueil/show.html.erb:45
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 4.4ms | Allocations: 801)
  Rendered accueil/show.html.erb within layouts/application (Duration: 63.4ms | Allocations: 10334)
Completed 200 OK in 123ms (Views: 109.4ms | ActiveRecord: 8.9ms | Allocations: 38588)


Started GET "/" for ::1 at 2019-09-19 12:33:27 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 3]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 17.4ms | Allocations: 3293)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.7ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 35.5ms | Allocations: 7499)
Completed 200 OK in 126ms (Views: 116.4ms | ActiveRecord: 4.0ms | Allocations: 36518)


Started GET "/" for ::1 at 2019-09-19 12:34:50 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 3]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.1ms | Allocations: 3284)
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.8ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 20.7ms | Allocations: 6923)
Completed 200 OK in 60ms (Views: 49.6ms | ActiveRecord: 7.8ms | Allocations: 35239)


Started DELETE "/users/sign_out" for ::1 at 2019-09-19 12:34:54 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"P0szapo21jNUwEoCV2Plq7ZDQKuinyDrGo0+c6HQZVKyDFrrqM4mgMfhErk7K7bHFdkODEo3VfQTAKR16kPJ7Q=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 2217)


Started GET "/" for ::1 at 2019-09-19 12:34:54 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 2.0ms | Allocations: 1051)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.7ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 4690)
Completed 200 OK in 48ms (Views: 46.0ms | ActiveRecord: 1.2ms | Allocations: 32249)


Started GET "/users/sign_up" for ::1 at 2019-09-19 12:35:01 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"vHDyY90M9FOkC/6fFJ1M+xkzvSlx6QJ2mfvCNQLoi+5AzpxTtR0Kuj/ZGTvvjLE7r3WUlohVvSGhB9VWqgno9Q=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 103.2ms | Allocations: 491)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 126.2ms | Allocations: 1954)
Completed 200 OK in 169ms (Views: 167.5ms | ActiveRecord: 0.0ms | Allocations: 30722)


Started POST "/users" for ::1 at 2019-09-19 12:35:20 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"M2DRIm323tICi56st5gdgqG2NGHQRuBs8/sf6CeXl+TP3r8SBecgO5lZeQhMieBCF/Ad3in6XzvLBwiLj3b0/w==", "user"=>{"first_name"=>"test", "last_name"=>"test", "email"=>"test@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "test"], ["last_name", "test"], ["email", "test@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$ayBFmSj4Eh/0V0zGv7DZxuS1Anggzem8NUxrlye2/yuq1v7eJvmHq"], ["created_at", "2019-09-19 09:35:20.918389"], ["updated_at", "2019-09-19 09:35:20.918389"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 142)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 0.4ms | Allocations: 124)
UserMailer#welcome_email: processed outbound mail in 12.7ms
Delivered mail 5d834bd8e4606_180e2b0f5ddf61688238e@lenovoa18.mail (3.7ms)
Date: Thu, 19 Sep 2019 12:35:20 +0300
From: from@example.com
To: test@gmail.com
Message-ID: <5d834bd8e4606_180e2b0f5ddf61688238e@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d834bd8e3bed_180e2b0f5ddf6168822ca";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d834bd8e3bed_180e2b0f5ddf6168822ca
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciB0ZXN0IGV0IGJpZW52ZW51ZSBjaGV6IG5vdXMgIQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KIA0KVHUgdCdlcyBpbnNjcml0IHN1ciBtYWRhbWFya2V0IGVu
IHV0aWxpc2FudCBsJ2UtbWFpbCBzdWl2YW50IDogdGVzdEBnbWFpbC5jb20u
DQogDQogDQrDgCB0csOocyB2aXRlIHN1ciBtYWRhbWFya2V0ICENCg==

----==_mimepart_5d834bd8e3bed_180e2b0f5ddf6168822ca
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut test et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : test=
@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d834bd8e3bed_180e2b0f5ddf6168822ca--

  [1m[36mCart Create (2.9ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 4], ["created_at", "2019-09-19 09:35:20.941234"], ["updated_at", "2019-09-19 09:35:20.941234"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 230ms (ActiveRecord: 26.7ms | Allocations: 20275)


Started GET "/" for ::1 at 2019-09-19 12:35:20 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (2.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 4], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 4]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 17.4ms | Allocations: 3270)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 42.4ms | Allocations: 6913)
Completed 200 OK in 80ms (Views: 67.5ms | ActiveRecord: 10.1ms | Allocations: 35231)


Started DELETE "/users/sign_out" for ::1 at 2019-09-19 12:37:40 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"v4G6+/xo3kTFSX3pKLEkZJhelf+HwQpk8IctDWQWZo1DP9TLlHkgrV6bmk3ToNmkLhi8QH59tTPIezpuzPcFlg=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 2247)


Started GET "/" for ::1 at 2019-09-19 12:37:40 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 2.0ms | Allocations: 1051)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.5ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 4690)
Completed 200 OK in 47ms (Views: 44.2ms | ActiveRecord: 2.3ms | Allocations: 32247)


Started GET "/users/sign_in" for ::1 at 2019-09-19 12:37:45 +0300
Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"g59M0n3HTfcVwU1MAQ9IwOHkAarFliGc/sAg2x1iBA3wdqPlrHz+YLyHM7dTGCOEmxe1YmkKk/asKCw2TzVB7A=="}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 145)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 61.8ms | Allocations: 1151)
Completed 200 OK in 96ms (Views: 95.1ms | ActiveRecord: 0.0ms | Allocations: 29575)


Started GET "/users/sign_up" for ::1 at 2019-09-19 12:37:48 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"g59M0n3HTfcVwU1MAQ9IwOHkAarFliGc/sAg2x1iBA3wdqPlrHz+YLyHM7dTGCOEmxe1YmkKk/asKCw2TzVB7A=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 760)
Completed 200 OK in 28ms (Views: 27.1ms | ActiveRecord: 0.0ms | Allocations: 28464)


Started POST "/users" for ::1 at 2019-09-19 12:38:20 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"RsmRGGTXerAiLuWss6I1WpkMe5Xl091RP/eBQe2ZU1Q1IH4vtWzJJ4tom1fhtV4e4//PXUlPbzttH42sv84WtQ==", "user"=>{"first_name"=>"test", "last_name"=>"test", "email"=>"gmradonarindra@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "gmradonarindra@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "test"], ["last_name", "test"], ["email", "gmradonarindra@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$SzoozvpXFfC/GAJ7qoH5K.5rOazNgdwLTIc1TSi8ARgHYrShmKfAq"], ["created_at", "2019-09-19 09:38:20.259665"], ["updated_at", "2019-09-19 09:38:20.259665"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 7)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 0.0ms | Allocations: 4)
UserMailer#welcome_email: processed outbound mail in 3.7ms
Delivered mail 5d834c8c414cb_180e2b0f5ddf61f482555@lenovoa18.mail (4.2ms)
Date: Thu, 19 Sep 2019 12:38:20 +0300
From: from@example.com
To: gmradonarindra@gmail.com
Message-ID: <5d834c8c414cb_180e2b0f5ddf61f482555@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d834c8c409d8_180e2b0f5ddf61f4824b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d834c8c409d8_180e2b0f5ddf61f4824b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciB0ZXN0IGV0IGJpZW52ZW51ZSBjaGV6IG5vdXMgIQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KIA0KVHUgdCdlcyBpbnNjcml0IHN1ciBtYWRhbWFya2V0IGVu
IHV0aWxpc2FudCBsJ2UtbWFpbCBzdWl2YW50IDogZ21yYWRvbmFyaW5kcmFA
Z21haWwuY29tLg0KIA0KIA0Kw4AgdHLDqHMgdml0ZSBzdXIgbWFkYW1hcmtl
dCAhDQo=

----==_mimepart_5d834c8c409d8_180e2b0f5ddf61f4824b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut test et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : gmra=
donarindra@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d834c8c409d8_180e2b0f5ddf61f4824b--

  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 5], ["created_at", "2019-09-19 09:38:20.273650"], ["updated_at", "2019-09-19 09:38:20.273650"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (32.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 210ms (ActiveRecord: 33.9ms | Allocations: 18078)


Started GET "/" for ::1 at 2019-09-19 12:38:20 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 5], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 5]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 30.0ms | Allocations: 3272)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 3.6ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 42.1ms | Allocations: 6913)
Completed 200 OK in 81ms (Views: 73.7ms | ActiveRecord: 5.1ms | Allocations: 35227)


Started DELETE "/users/sign_out" for ::1 at 2019-09-19 12:42:43 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"WD/CcYozcY0sbQwWkldL+xgff4N//0uDhuMn8s/mIsQr1i1GW4jCGoUrcu3AQCC/YuzLS9Nj+enUCysfnbFnJQ=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 2209)


Started GET "/" for ::1 at 2019-09-19 12:42:43 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 2.2ms | Allocations: 1051)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.4ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4690)
Completed 200 OK in 40ms (Views: 37.4ms | ActiveRecord: 1.7ms | Allocations: 32247)


Started GET "/users/sign_up" for ::1 at 2019-09-19 12:42:47 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"hikqJtqjvpkToQxjHbxomQyBlb1Fye0EwDl1LPIv/4aH4yr96L67FAteNlrgvc4BO/34sbZF8/x0ijnVKMvKqA=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 78)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 750)
Completed 200 OK in 31ms (Views: 30.3ms | ActiveRecord: 0.0ms | Allocations: 28448)


Started POST "/users" for ::1 at 2019-09-19 12:43:33 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"FE/eNnIfR/bQBzQKyiHWhGAdjvqBFRCFhPnkSyhNBmEVhd7tQAJCe8j4DjM3IHAcV2Hj9nKZDn0wSqiy8qkzTw==", "user"=>{"first_name"=>"fsdfs", "last_name"=>"zeaeza", "email"=>"safidypatrick8@gmail.com", "address"=>"Tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "safidypatrick8@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "fsdfs"], ["last_name", "zeaeza"], ["email", "safidypatrick8@gmail.com"], ["address", "Tana"], ["encrypted_password", "$2a$11$WW8/PNynUq0UsdlU7RSlC.0qkUMHaoBqnCNIdEVE5S/j5bZiSuaNq"], ["created_at", "2019-09-19 09:43:33.308664"], ["updated_at", "2019-09-19 09:43:33.308664"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 7)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 0.0ms | Allocations: 4)
UserMailer#welcome_email: processed outbound mail in 3.6ms
Delivered mail 5d834dc54d327_180e2b0f5ddf616882754@lenovoa18.mail (4.3ms)
Date: Thu, 19 Sep 2019 12:43:33 +0300
From: from@example.com
To: safidypatrick8@gmail.com
Message-ID: <5d834dc54d327_180e2b0f5ddf616882754@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d834dc54c89f_180e2b0f5ddf6168826c1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d834dc54c89f_180e2b0f5ddf6168826c1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciBmc2RmcyBldCBiaWVudmVudWUgY2hleiBub3VzICENCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0NCiANClR1IHQnZXMgaW5zY3JpdCBzdXIgbWFkYW1hcmtldCBl
biB1dGlsaXNhbnQgbCdlLW1haWwgc3VpdmFudCA6IHNhZmlkeXBhdHJpY2s4
QGdtYWlsLmNvbS4NCiANCiANCsOAIHRyw6hzIHZpdGUgc3VyIG1hZGFtYXJr
ZXQgIQ0K

----==_mimepart_5d834dc54c89f_180e2b0f5ddf6168826c1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut fsdfs et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : safi=
dypatrick8@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d834dc54c89f_180e2b0f5ddf6168826c1--

  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 6], ["created_at", "2019-09-19 09:43:33.320602"], ["updated_at", "2019-09-19 09:43:33.320602"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (36.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 213ms (ActiveRecord: 38.1ms | Allocations: 18044)


Started GET "/" for ::1 at 2019-09-19 12:43:33 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 6]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 7.7ms | Allocations: 3261)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 3.8ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 6901)
Completed 200 OK in 71ms (Views: 65.1ms | ActiveRecord: 3.2ms | Allocations: 35214)


Started GET "/" for ::1 at 2019-09-19 12:43:40 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 6]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.0ms | Allocations: 3261)
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.7ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 6900)
Completed 200 OK in 55ms (Views: 43.5ms | ActiveRecord: 9.1ms | Allocations: 35208)


Started GET "/" for ::1 at 2019-09-19 12:43:42 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (4.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 6]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 13.7ms | Allocations: 3261)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.8ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 29.8ms | Allocations: 6900)
Completed 200 OK in 60ms (Views: 46.8ms | ActiveRecord: 11.2ms | Allocations: 35213)


  [1m[35m (2.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (590.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (452.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_test"[0m
  [1m[35m (1571.1ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_development" ENCODING = 'unicode'[0m
  [1m[35m (1337.9ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_test" ENCODING = 'unicode'[0m
  [1m[35m (208.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (153.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3281140153614043980)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20190910114606)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (140.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying DEFAULT '' NOT NULL, "last_name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "address" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_admin" boolean DEFAULT FALSE)[0m
  [1m[35m (86.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (63.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190910114606"]]
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20190911051137)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (159.7ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "title" character varying, "description" text, "price" float, "image_url" character varying, "provider_id" bigint, "category_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.6ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_provider_id" ON "products"  ("provider_id")[0m
  [1m[35m (63.7ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_category_id" ON "products"  ("category_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051137"]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20190911051311)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (163.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "title" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051311"]]
  [1m[35m (17.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20190911051333)
  [1m[35m (3.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (72.1ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (85.3ms)[0m  [1m[35mCREATE  INDEX  "index_carts_on_customer_id" ON "carts"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051333"]]
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLikes (20190911051349)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (99.3ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "customer_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (62.0ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_customer_id" ON "likes"  ("customer_id")[0m
  [1m[35m (75.6ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_product_id" ON "likes"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051349"]]
  [1m[35m (25.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommands (20190911051441)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (153.0ms)[0m  [1m[35mCREATE TABLE "commands" ("id" bigserial primary key, "stripe_customer_id" character varying, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (53.3ms)[0m  [1m[35mCREATE  INDEX  "index_commands_on_customer_id" ON "commands"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051441"]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartProducts (20190911051729)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (64.1ms)[0m  [1m[35mCREATE TABLE "cart_products" ("id" bigserial primary key, "quantity" integer, "cart_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (52.8ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_cart_id" ON "cart_products"  ("cart_id")[0m
  [1m[35m (75.7ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_product_id" ON "cart_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051729"]]
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommandProducts (20190911051742)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (68.5ms)[0m  [1m[35mCREATE TABLE "command_products" ("id" bigserial primary key, "command_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (53.3ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_command_id" ON "command_products"  ("command_id")[0m
  [1m[35m (94.3ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_product_id" ON "command_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051742"]]
  [1m[35m (25.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCities (20190911063151)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (156.4ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying, "zip_code" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063151"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20190911063650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (138.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (80.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (138.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (135.2ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (137.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063650"]]
  [1m[35m (21.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-09-19 09:46:58.697843"], ["updated_at", "2019-09-19 09:46:58.697843"]]
  [1m[35m (18.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3281140153614043980)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Artisanals"], ["created_at", "2019-09-19 09:46:58.942188"], ["updated_at", "2019-09-19 09:46:58.942188"]]
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Boissons"], ["created_at", "2019-09-19 09:46:58.979310"], ["updated_at", "2019-09-19 09:46:58.979310"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits laitiers"], ["created_at", "2019-09-19 09:46:59.001260"], ["updated_at", "2019-09-19 09:46:59.001260"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Charcuteries"], ["created_at", "2019-09-19 09:46:59.023588"], ["updated_at", "2019-09-19 09:46:59.023588"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Fruits et LÃ©gumes"], ["created_at", "2019-09-19 09:46:59.057677"], ["updated_at", "2019-09-19 09:46:59.057677"]]
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Conserves"], ["created_at", "2019-09-19 09:46:59.078412"], ["updated_at", "2019-09-19 09:46:59.078412"]]
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits de la mer"], ["created_at", "2019-09-19 09:46:59.100669"], ["updated_at", "2019-09-19 09:46:59.100669"]]
  [1m[35m (17.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Graines"], ["created_at", "2019-09-19 09:46:59.123142"], ["updated_at", "2019-09-19 09:46:59.123142"]]
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Assaisonnement"], ["created_at", "2019-09-19 09:46:59.145210"], ["updated_at", "2019-09-19 09:46:59.145210"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits alimentaires"], ["created_at", "2019-09-19 09:46:59.167310"], ["updated_at", "2019-09-19 09:46:59.167310"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits agricoles"], ["created_at", "2019-09-19 09:46:59.189495"], ["updated_at", "2019-09-19 09:46:59.189495"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2019-09-19 12:47:35 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 36.6ms | Allocations: 4718)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.7ms | Allocations: 1004)
  Rendered products/index.html.erb within layouts/application (Duration: 65.2ms | Allocations: 8011)
Completed 200 OK in 2366ms (Views: 2250.5ms | ActiveRecord: 16.8ms | Allocations: 1317977)


Started GET "/users/sign_up" for ::1 at 2019-09-19 12:47:40 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"FlzUR8sbD9ZZRjBkZSIGtij61GZ5IxfBOO5veE7TflUXltSc+QYKW0G5Cl2YI6AuH4a5aoqvCTmMXSOBlDdLew=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 553)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 25.0ms | Allocations: 2488)
Completed 200 OK in 88ms (Views: 62.6ms | ActiveRecord: 0.0ms | Allocations: 38369)


Started POST "/users" for ::1 at 2019-09-19 12:47:58 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"svQ7It/caP/Zurp0mnm6FN1oMLoKnywpyTbPD3elLBezPjv57cFtcsFFgE1neByM6hRdtvkTMtF9hYP2rUEZOQ==", "user"=>{"first_name"=>"riana", "last_name"=>"soa", "email"=>"rrianasoaonimalala@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rrianasoaonimalala@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "riana"], ["last_name", "soa"], ["email", "rrianasoaonimalala@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$zZxYf/EZ9Pkvtb2n4xeDsuWYoQ57WbsKvrQQNyFVpB615LdW76.ym"], ["created_at", "2019-09-19 09:47:58.374686"], ["updated_at", "2019-09-19 09:47:58.374686"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 148)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 0.4ms | Allocations: 130)
UserMailer#welcome_email: processed outbound mail in 21.2ms
Delivered mail 5d834ece730e9_28922ac5a1d90e40399d9@lenovoa18.mail (232.7ms)
Date: Thu, 19 Sep 2019 12:47:58 +0300
From: from@example.com
To: rrianasoaonimalala@gmail.com
Message-ID: <5d834ece730e9_28922ac5a1d90e40399d9@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d834ece6c4f9_28922ac5a1d90e40398a1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d834ece6c4f9_28922ac5a1d90e40398a1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciByaWFuYSBldCBiaWVudmVudWUgY2hleiBub3VzICENCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0NCiANClR1IHQnZXMgaW5zY3JpdCBzdXIgbWFkYW1hcmtldCBl
biB1dGlsaXNhbnQgbCdlLW1haWwgc3VpdmFudCA6IHJyaWFuYXNvYW9uaW1h
bGFsYUBnbWFpbC5jb20uDQogDQogDQrDgCB0csOocyB2aXRlIHN1ciBtYWRh
bWFya2V0ICENCg==

----==_mimepart_5d834ece6c4f9_28922ac5a1d90e40398a1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut riana et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : rria=
nasoaonimalala@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d834ece6c4f9_28922ac5a1d90e40398a1--

  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 1], ["created_at", "2019-09-19 09:47:58.722444"], ["updated_at", "2019-09-19 09:47:58.722444"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (47.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5915ms (ActiveRecord: 53.5ms | Allocations: 233080)


Started GET "/" for ::1 at 2019-09-19 12:48:03 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 355.9ms | Allocations: 8889)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.7ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 361.0ms | Allocations: 10446)
Completed 200 OK in 417ms (Views: 404.9ms | ActiveRecord: 8.5ms | Allocations: 38672)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (534.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (530.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_test"[0m
  [1m[35m (1289.0ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_development" ENCODING = 'unicode'[0m
  [1m[35m (1490.4ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_test" ENCODING = 'unicode'[0m
  [1m[35m (160.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (175.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3281140153614043980)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20190910114606)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (180.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying DEFAULT '' NOT NULL, "last_name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "address" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_admin" boolean DEFAULT FALSE)[0m
  [1m[35m (62.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (63.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190910114606"]]
  [1m[35m (24.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20190911051137)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (151.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "title" character varying, "description" text, "price" float, "image_url" character varying, "provider_id" bigint, "category_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (60.7ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_provider_id" ON "products"  ("provider_id")[0m
  [1m[35m (63.0ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_category_id" ON "products"  ("category_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051137"]]
  [1m[35m (62.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20190911051311)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (130.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "title" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051311"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20190911051333)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.6ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.2ms)[0m  [1m[35mCREATE  INDEX  "index_carts_on_customer_id" ON "carts"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051333"]]
  [1m[35m (18.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLikes (20190911051349)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (64.9ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "customer_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.2ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_customer_id" ON "likes"  ("customer_id")[0m
  [1m[35m (75.4ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_product_id" ON "likes"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051349"]]
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommands (20190911051441)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (110.4ms)[0m  [1m[35mCREATE TABLE "commands" ("id" bigserial primary key, "stripe_customer_id" character varying, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (84.9ms)[0m  [1m[35mCREATE  INDEX  "index_commands_on_customer_id" ON "commands"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051441"]]
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartProducts (20190911051729)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (55.3ms)[0m  [1m[35mCREATE TABLE "cart_products" ("id" bigserial primary key, "quantity" integer, "cart_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (53.2ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_cart_id" ON "cart_products"  ("cart_id")[0m
  [1m[35m (53.4ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_product_id" ON "cart_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051729"]]
  [1m[35m (15.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommandProducts (20190911051742)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE TABLE "command_products" ("id" bigserial primary key, "command_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (51.6ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_command_id" ON "command_products"  ("command_id")[0m
  [1m[35m (53.6ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_product_id" ON "command_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051742"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCities (20190911063151)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (145.0ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying, "zip_code" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063151"]]
  [1m[35m (25.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20190911063650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (173.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (69.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (131.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (75.1ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (63.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063650"]]
  [1m[35m (24.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-09-19 09:51:56.287095"], ["updated_at", "2019-09-19 09:51:56.287095"]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3281140153614043980)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Artisanals"], ["created_at", "2019-09-19 09:51:56.465947"], ["updated_at", "2019-09-19 09:51:56.465947"]]
  [1m[35m (19.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Boissons"], ["created_at", "2019-09-19 09:51:56.489344"], ["updated_at", "2019-09-19 09:51:56.489344"]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits laitiers"], ["created_at", "2019-09-19 09:51:56.511725"], ["updated_at", "2019-09-19 09:51:56.511725"]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Charcuteries"], ["created_at", "2019-09-19 09:51:56.533588"], ["updated_at", "2019-09-19 09:51:56.533588"]]
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Fruits et LÃ©gumes"], ["created_at", "2019-09-19 09:51:56.555969"], ["updated_at", "2019-09-19 09:51:56.555969"]]
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Conserves"], ["created_at", "2019-09-19 09:51:56.578311"], ["updated_at", "2019-09-19 09:51:56.578311"]]
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits de la mer"], ["created_at", "2019-09-19 09:51:56.599965"], ["updated_at", "2019-09-19 09:51:56.599965"]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Graines"], ["created_at", "2019-09-19 09:51:56.622130"], ["updated_at", "2019-09-19 09:51:56.622130"]]
  [1m[35m (59.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Assaisonnement"], ["created_at", "2019-09-19 09:51:56.685686"], ["updated_at", "2019-09-19 09:51:56.685686"]]
  [1m[35m (54.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits alimentaires"], ["created_at", "2019-09-19 09:51:56.744629"], ["updated_at", "2019-09-19 09:51:56.744629"]]
  [1m[35m (72.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits agricoles"], ["created_at", "2019-09-19 09:51:56.837351"], ["updated_at", "2019-09-19 09:51:56.837351"]]
  [1m[35m (57.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2019-09-19 12:52:27 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 15.4ms | Allocations: 4718)
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.3ms | Allocations: 1004)
  Rendered products/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 8011)
Completed 200 OK in 1152ms (Views: 1116.2ms | ActiveRecord: 13.9ms | Allocations: 1317961)


Started GET "/users/sign_up" for ::1 at 2019-09-19 12:52:31 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"szh0YULW1dZa3xjdnClKvme+FUJOEBUBEH4g7Qz3eHCy8nS6cMvQW0IgIuRhKOwmUMJ4Tr2cC/mkzWwU1hNNXg=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 553)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2488)
Completed 200 OK in 81ms (Views: 66.0ms | ActiveRecord: 0.0ms | Allocations: 38380)


Started POST "/users" for ::1 at 2019-09-19 12:52:44 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"c8TZdEzA3HHF8nqq2xsxsXS4dAcniefBKDq4Yu98DuVyDtmvft3Z/N0NQJMmGpcpQ8QZC9QF+TmcifSbNZg7yw==", "user"=>{"first_name"=>"tryr", "last_name"=>"rzerz", "email"=>"rrianasoaonimalala@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rrianasoaonimalala@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "tryr"], ["last_name", "rzerz"], ["email", "rrianasoaonimalala@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$40jBk2/FJWisCIM1l6Kg8ua2xrTC9DnT4bBD0KJBn.37zZfFk87V6"], ["created_at", "2019-09-19 09:52:44.625414"], ["updated_at", "2019-09-19 09:52:44.625414"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 153)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 0.3ms | Allocations: 130)
UserMailer#welcome_email: processed outbound mail in 6.5ms
Delivered mail 5d834feca008f_2b002ae1162dbe384170@lenovoa18.mail (4187.6ms)
Date: Thu, 19 Sep 2019 12:52:44 +0300
From: from@example.com
To: rrianasoaonimalala@gmail.com
Message-ID: <5d834feca008f_2b002ae1162dbe384170@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d834fec9f441_2b002ae1162dbe38416c4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d834fec9f441_2b002ae1162dbe38416c4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciB0cnlyIGV0IGJpZW52ZW51ZSBjaGV6IG5vdXMgIQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KIA0KVHUgdCdlcyBpbnNjcml0IHN1ciBtYWRhbWFya2V0IGVu
IHV0aWxpc2FudCBsJ2UtbWFpbCBzdWl2YW50IDogcnJpYW5hc29hb25pbWFs
YWxhQGdtYWlsLmNvbS4NCiANCiANCsOAIHRyw6hzIHZpdGUgc3VyIG1hZGFt
YXJrZXQgIQ0K

----==_mimepart_5d834fec9f441_2b002ae1162dbe38416c4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut tryr et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : rria=
nasoaonimalala@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d834fec9f441_2b002ae1162dbe38416c4--

  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 1], ["created_at", "2019-09-19 09:52:48.857696"], ["updated_at", "2019-09-19 09:52:48.857696"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4504ms (ActiveRecord: 35.8ms | Allocations: 211791)


Started GET "/" for ::1 at 2019-09-19 12:52:48 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 27.4ms | Allocations: 8886)
  [1m[36mProduct Load (3.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.4ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 34.2ms | Allocations: 10443)
Completed 200 OK in 66ms (Views: 53.2ms | ActiveRecord: 10.2ms | Allocations: 38673)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1429.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (530.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_test"[0m
  [1m[35m (1245.9ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_development" ENCODING = 'unicode'[0m
  [1m[35m (1217.4ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_test" ENCODING = 'unicode'[0m
  [1m[35m (205.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (153.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3281140153614043980)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20190910114606)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (121.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying DEFAULT '' NOT NULL, "last_name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "address" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_admin" boolean DEFAULT FALSE)[0m
  [1m[35m (67.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (80.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190910114606"]]
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20190911051137)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (135.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "title" character varying, "description" text, "price" float, "image_url" character varying, "provider_id" bigint, "category_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (63.6ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_provider_id" ON "products"  ("provider_id")[0m
  [1m[35m (84.9ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_category_id" ON "products"  ("category_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051137"]]
  [1m[35m (24.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20190911051311)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (148.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "title" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051311"]]
  [1m[35m (23.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20190911051333)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (70.6ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (77.9ms)[0m  [1m[35mCREATE  INDEX  "index_carts_on_customer_id" ON "carts"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051333"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLikes (20190911051349)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (71.2ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "customer_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (62.8ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_customer_id" ON "likes"  ("customer_id")[0m
  [1m[35m (77.6ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_product_id" ON "likes"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051349"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommands (20190911051441)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (137.4ms)[0m  [1m[35mCREATE TABLE "commands" ("id" bigserial primary key, "stripe_customer_id" character varying, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (88.3ms)[0m  [1m[35mCREATE  INDEX  "index_commands_on_customer_id" ON "commands"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051441"]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartProducts (20190911051729)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (72.6ms)[0m  [1m[35mCREATE TABLE "cart_products" ("id" bigserial primary key, "quantity" integer, "cart_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_cart_id" ON "cart_products"  ("cart_id")[0m
  [1m[35m (87.6ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_product_id" ON "cart_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051729"]]
  [1m[35m (19.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommandProducts (20190911051742)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (61.7ms)[0m  [1m[35mCREATE TABLE "command_products" ("id" bigserial primary key, "command_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.4ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_command_id" ON "command_products"  ("command_id")[0m
  [1m[35m (64.3ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_product_id" ON "command_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051742"]]
  [1m[35m (41.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCities (20190911063151)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (139.4ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying, "zip_code" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063151"]]
  [1m[35m (20.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20190911063650)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (161.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (64.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (178.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (63.1ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (63.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063650"]]
  [1m[35m (17.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-09-19 09:56:16.166619"], ["updated_at", "2019-09-19 09:56:16.166619"]]
  [1m[35m (17.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3281140153614043980)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Artisanals"], ["created_at", "2019-09-19 09:56:16.367487"], ["updated_at", "2019-09-19 09:56:16.367487"]]
  [1m[35m (37.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Boissons"], ["created_at", "2019-09-19 09:56:16.410485"], ["updated_at", "2019-09-19 09:56:16.410485"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits laitiers"], ["created_at", "2019-09-19 09:56:16.432699"], ["updated_at", "2019-09-19 09:56:16.432699"]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Charcuteries"], ["created_at", "2019-09-19 09:56:16.454851"], ["updated_at", "2019-09-19 09:56:16.454851"]]
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Fruits et LÃ©gumes"], ["created_at", "2019-09-19 09:56:16.488880"], ["updated_at", "2019-09-19 09:56:16.488880"]]
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Conserves"], ["created_at", "2019-09-19 09:56:16.509862"], ["updated_at", "2019-09-19 09:56:16.509862"]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits de la mer"], ["created_at", "2019-09-19 09:56:16.531862"], ["updated_at", "2019-09-19 09:56:16.531862"]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Graines"], ["created_at", "2019-09-19 09:56:16.554318"], ["updated_at", "2019-09-19 09:56:16.554318"]]
  [1m[35m (17.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Assaisonnement"], ["created_at", "2019-09-19 09:56:16.576452"], ["updated_at", "2019-09-19 09:56:16.576452"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits alimentaires"], ["created_at", "2019-09-19 09:56:16.598736"], ["updated_at", "2019-09-19 09:56:16.598736"]]
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits agricoles"], ["created_at", "2019-09-19 09:56:16.620364"], ["updated_at", "2019-09-19 09:56:16.620364"]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2019-09-19 12:56:28 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 12.3ms | Allocations: 4718)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.8ms | Allocations: 1004)
  Rendered products/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 8011)
Completed 200 OK in 1118ms (Views: 1084.8ms | ActiveRecord: 12.6ms | Allocations: 1317974)


Started GET "/users/sign_up" for ::1 at 2019-09-19 12:56:32 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"8+zoJsuBE37bH1cEkNjYkgAOlkKyrPxyc1K6IXy0RofyJuj9+ZwW88PgbT1t2X4KN3L7TkEg4orH4fbYplBzqQ=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 553)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2488)
Completed 200 OK in 50ms (Views: 38.2ms | ActiveRecord: 0.0ms | Allocations: 38377)


Started POST "/users" for ::1 at 2019-09-19 12:56:46 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"ht/jTBSLGthajk0K2n8q5G+vpBVDSP0NarHWCpfukc6HFeOXJpYfVUJxdzMnfox8WNPJGbDE4/XeAprzTQqk4A==", "user"=>{"first_name"=>"hfgh", "last_name"=>"fgh", "email"=>"rrianasoaonimalala@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rrianasoaonimalala@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "hfgh"], ["last_name", "fgh"], ["email", "rrianasoaonimalala@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$mMfd9MRD1MZT1disVxf.xe3zcfRGx/xfNLJBJ122UBL1sQq.uxnAO"], ["created_at", "2019-09-19 09:56:46.917740"], ["updated_at", "2019-09-19 09:56:46.917740"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 148)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 0.3ms | Allocations: 130)
UserMailer#welcome_email: processed outbound mail in 36.4ms
Delivered mail 5d8350deec1db_2dda2b0ff3c188c8601a5@lenovoa18.mail (55.9ms)
Date: Thu, 19 Sep 2019 12:56:46 +0300
From: from@example.com
To: rrianasoaonimalala@gmail.com
Message-ID: <5d8350deec1db_2dda2b0ff3c188c8601a5@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d8350deeb5b4_2dda2b0ff3c188c86007d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d8350deeb5b4_2dda2b0ff3c188c86007d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciBoZmdoIGV0IGJpZW52ZW51ZSBjaGV6IG5vdXMgIQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KIA0KVHUgdCdlcyBpbnNjcml0IHN1ciBtYWRhbWFya2V0IGVu
IHV0aWxpc2FudCBsJ2UtbWFpbCBzdWl2YW50IDogcnJpYW5hc29hb25pbWFs
YWxhQGdtYWlsLmNvbS4NCiANCiANCsOAIHRyw6hzIHZpdGUgc3VyIG1hZGFt
YXJrZXQgIQ0K

----==_mimepart_5d8350deeb5b4_2dda2b0ff3c188c86007d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut hfgh et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : rria=
nasoaonimalala@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d8350deeb5b4_2dda2b0ff3c188c86007d--

  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 1], ["created_at", "2019-09-19 09:56:47.041528"], ["updated_at", "2019-09-19 09:56:47.041528"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (29.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 524ms (ActiveRecord: 35.6ms | Allocations: 230917)


Started GET "/" for ::1 at 2019-09-19 12:56:47 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 29.1ms | Allocations: 8885)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 3.8ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 39.4ms | Allocations: 10442)
Completed 200 OK in 106ms (Views: 91.5ms | ActiveRecord: 7.7ms | Allocations: 38675)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (433.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (430.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_test"[0m
  [1m[35m (1360.7ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_development" ENCODING = 'unicode'[0m
  [1m[35m (1402.2ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_test" ENCODING = 'unicode'[0m
  [1m[35m (712.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (630.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3281140153614043980)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20190910114606)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (154.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying DEFAULT '' NOT NULL, "last_name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "address" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_admin" boolean DEFAULT FALSE)[0m
  [1m[35m (63.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (64.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190910114606"]]
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20190911051137)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (154.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "title" character varying, "description" text, "price" float, "image_url" character varying, "provider_id" bigint, "category_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.4ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_provider_id" ON "products"  ("provider_id")[0m
  [1m[35m (63.2ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_category_id" ON "products"  ("category_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051137"]]
  [1m[35m (25.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20190911051311)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (133.7ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "title" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051311"]]
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20190911051333)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (67.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (74.5ms)[0m  [1m[35mCREATE  INDEX  "index_carts_on_customer_id" ON "carts"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051333"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLikes (20190911051349)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (79.0ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "customer_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (63.8ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_customer_id" ON "likes"  ("customer_id")[0m
  [1m[35m (63.0ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_product_id" ON "likes"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051349"]]
  [1m[35m (24.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommands (20190911051441)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (179.1ms)[0m  [1m[35mCREATE TABLE "commands" ("id" bigserial primary key, "stripe_customer_id" character varying, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.3ms)[0m  [1m[35mCREATE  INDEX  "index_commands_on_customer_id" ON "commands"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051441"]]
  [1m[35m (25.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartProducts (20190911051729)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.3ms)[0m  [1m[35mCREATE TABLE "cart_products" ("id" bigserial primary key, "quantity" integer, "cart_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.2ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_cart_id" ON "cart_products"  ("cart_id")[0m
  [1m[35m (52.5ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_product_id" ON "cart_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051729"]]
  [1m[35m (24.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommandProducts (20190911051742)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (85.6ms)[0m  [1m[35mCREATE TABLE "command_products" ("id" bigserial primary key, "command_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (57.3ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_command_id" ON "command_products"  ("command_id")[0m
  [1m[35m (75.2ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_product_id" ON "command_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051742"]]
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCities (20190911063151)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (148.3ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying, "zip_code" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063151"]]
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20190911063650)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (152.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (71.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (132.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (85.5ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (63.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063650"]]
  [1m[35m (20.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-09-19 09:59:07.486216"], ["updated_at", "2019-09-19 09:59:07.486216"]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3281140153614043980)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Artisanals"], ["created_at", "2019-09-19 09:59:07.673659"], ["updated_at", "2019-09-19 09:59:07.673659"]]
  [1m[35m (21.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Boissons"], ["created_at", "2019-09-19 09:59:07.699450"], ["updated_at", "2019-09-19 09:59:07.699450"]]
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits laitiers"], ["created_at", "2019-09-19 09:59:07.722002"], ["updated_at", "2019-09-19 09:59:07.722002"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Charcuteries"], ["created_at", "2019-09-19 09:59:07.744356"], ["updated_at", "2019-09-19 09:59:07.744356"]]
  [1m[35m (15.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Fruits et LÃ©gumes"], ["created_at", "2019-09-19 09:59:07.766454"], ["updated_at", "2019-09-19 09:59:07.766454"]]
  [1m[35m (15.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Conserves"], ["created_at", "2019-09-19 09:59:07.788389"], ["updated_at", "2019-09-19 09:59:07.788389"]]
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits de la mer"], ["created_at", "2019-09-19 09:59:07.821157"], ["updated_at", "2019-09-19 09:59:07.821157"]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Graines"], ["created_at", "2019-09-19 09:59:07.843393"], ["updated_at", "2019-09-19 09:59:07.843393"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Assaisonnement"], ["created_at", "2019-09-19 09:59:07.865574"], ["updated_at", "2019-09-19 09:59:07.865574"]]
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits alimentaires"], ["created_at", "2019-09-19 09:59:07.888172"], ["updated_at", "2019-09-19 09:59:07.888172"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits agricoles"], ["created_at", "2019-09-19 09:59:07.910407"], ["updated_at", "2019-09-19 09:59:07.910407"]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2019-09-19 12:59:21 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 11.3ms | Allocations: 4718)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.2ms | Allocations: 1004)
  Rendered products/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 8011)
Completed 200 OK in 1114ms (Views: 1078.8ms | ActiveRecord: 13.5ms | Allocations: 1317975)


Started GET "/users/sign_up" for ::1 at 2019-09-19 12:59:24 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"32DMiFxfqeDpFvY8WS24qIkAgPtRI7cQjdnK+/lYOCzeqsxTbkKsbfHpzAWkLB4wvnzt96Kvqeg5aoYCI7wNAg=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 553)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 2488)
Completed 200 OK in 91ms (Views: 76.2ms | ActiveRecord: 0.0ms | Allocations: 38375)


Started POST "/users" for ::1 at 2019-09-19 12:59:42 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"urSbNv8SNh6noTntQU2382z+RRIUiovQEyEEMBZjiAq7fpvtzQ8zk79eA9S8TBFrW4IoHucGlSinkkjJzIe9JA==", "user"=>{"first_name"=>"rina", "last_name"=>"test", "email"=>"rrianasoaonimalala@gmail.com", "address"=>"azerty", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rrianasoaonimalala@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "rina"], ["last_name", "test"], ["email", "rrianasoaonimalala@gmail.com"], ["address", "azerty"], ["encrypted_password", "$2a$11$PjUVVl8gUyfV24KKm4MnX.Oxi8wMorIOdSGmYAt5S/Tj3e.aPBUh6"], ["created_at", "2019-09-19 09:59:42.538479"], ["updated_at", "2019-09-19 09:59:42.538479"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 153)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 1.2ms | Allocations: 130)
UserMailer#welcome_email: processed outbound mail in 11.1ms
Delivered mail 5d83518e8a80e_30242af9e7cdb480328c1@lenovoa18.mail (2911.0ms)
Date: Thu, 19 Sep 2019 12:59:42 +0300
From: from@example.com
To: rrianasoaonimalala@gmail.com
Message-ID: <5d83518e8a80e_30242af9e7cdb480328c1@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d83518e8817d_30242af9e7cdb480327d2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d83518e8817d_30242af9e7cdb480327d2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciByaW5hIGV0IGJpZW52ZW51ZSBjaGV6IG5vdXMgIQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KIA0KVHUgdCdlcyBpbnNjcml0IHN1ciBtYWRhbWFya2V0IGVu
IHV0aWxpc2FudCBsJ2UtbWFpbCBzdWl2YW50IDogcnJpYW5hc29hb25pbWFs
YWxhQGdtYWlsLmNvbS4NCiANCiANCsOAIHRyw6hzIHZpdGUgc3VyIG1hZGFt
YXJrZXQgIQ0K

----==_mimepart_5d83518e8817d_30242af9e7cdb480327d2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut rina et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : rria=
nasoaonimalala@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d83518e8817d_30242af9e7cdb480327d2--

  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 1], ["created_at", "2019-09-19 09:59:45.489470"], ["updated_at", "2019-09-19 09:59:45.489470"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (23.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 3213ms (ActiveRecord: 31.4ms | Allocations: 211485)


Started GET "/" for ::1 at 2019-09-19 12:59:45 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 35.4ms | Allocations: 8885)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.2ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 43.8ms | Allocations: 10442)
Completed 200 OK in 84ms (Views: 74.8ms | ActiveRecord: 6.2ms | Allocations: 38678)


Started GET "/users/1" for ::1 at 2019-09-19 13:30:03 +0300
Processing by UsersController#show as HTML
  Parameters: {"authenticity_token"=>"uKjqP5VK57O2sqzPwmXxiiTBA3YjogCykVqzsicvjT65Yurkp1fiPq5NlvY/ZFcSE71uetAuHkol6f9L/cu4EA==", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (20.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/views/users/show.html.erb:58
  Rendered users/show.html.erb within layouts/application (Duration: 68.2ms | Allocations: 3529)
Completed 200 OK in 211ms (Views: 162.5ms | ActiveRecord: 24.9ms | Allocations: 41310)


Started GET "/users/1/edit" for ::1 at 2019-09-19 13:30:06 +0300
Processing by UsersController#edit as HTML
  Parameters: {"authenticity_token"=>"MKhHRkTK+2UYHXRw4eNyRcYX5+zb7B5us9/PuNTJLyQxYkeddtf+6ADiTkkc4tTd8WuK4ChgAJYHbINBDi0aCg==", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:7:in `edit'
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 24.3ms | Allocations: 1999)
Completed 200 OK in 60ms (Views: 57.3ms | ActiveRecord: 0.3ms | Allocations: 30444)


Started PUT "/users/1" for ::1 at 2019-09-19 13:30:09 +0300
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"DOidDulfzg/SRC6wnmgS1+Gy5agkqyGbcC2iKhUljYANIp3V20LLgsq7FIljabRP1s6IpNcnP2PEnu7Tz8G4rg==", "first_name"=>"rina", "last_name"=>"test", "email"=>"rrianasoaonimalala@gmail.com", "is_admin"=>"1", "commit"=>"Modifier le profil", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:11:in `update'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/users_controller.rb:16:in `update'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "is_admin" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["is_admin", true], ["updated_at", "2019-09-19 10:30:09.060522"], ["id", 1]]
  â³ app/controllers/users_controller.rb:16:in `update'
  [1m[35m (25.1ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/users_controller.rb:16:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/users_controller.rb:21:in `update'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:21:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/users_controller.rb:21:in `update'
Redirected to http://localhost:3000/users/1
Completed 302 Found in 84ms (ActiveRecord: 28.0ms | Allocations: 6775)


Started GET "/users/1" for ::1 at 2019-09-19 13:30:09 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/views/users/show.html.erb:58
  Rendered users/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1244)
  Rendered layouts/_admin_nav.html.erb (Duration: 11.6ms | Allocations: 377)
Completed 200 OK in 49ms (Views: 45.2ms | ActiveRecord: 1.6ms | Allocations: 30716)


Started GET "/admin/products/new" for ::1 at 2019-09-19 13:30:13 +0300
Processing by Admin::ProductsController#new as HTML
  Parameters: {"authenticity_token"=>"cdPbQUKv425Lm2jKzCfT+2h4sbEvAghWBc7i2uwx9LtwGduacLLm41NkUvMxJnVjXwTcvdyOFq6xfa4jNtXBlQ=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/new.html.erb within layouts/application
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/admin/products/new.html.erb:22:in `collect'
  Rendered admin/products/new.html.erb within layouts/application (Duration: 21.3ms | Allocations: 4138)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.3ms | Allocations: 75)
Completed 200 OK in 78ms (Views: 48.7ms | ActiveRecord: 1.5ms | Allocations: 44276)


Started POST "/admin/products" for ::1 at 2019-09-19 13:30:51 +0300
Processing by Admin::ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"onhc8FZ7Jv+LiioIxricUaCAYtAhBOwM2q7kV8t0lMOjslwrZGYjcpN1EDE7uTrJl/wP3NKI8vRuHaiuEZCh7Q==", "title"=>"Sakoa", "description"=>"tsara be", "price"=>"5000", "image_url"=>"https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151561849_n.jpg?_nc_ht=scontent-frx5-1.cdninstagram.com", "category_id"=>"5", "commit"=>"CrÃ©er"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "provider_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Sakoa"], ["description", "tsara be"], ["price", 5000.0], ["image_url", "https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151561849_n.jpg?_nc_ht=scontent-frx5-1.cdninstagram.com"], ["provider_id", 1], ["category_id", 5], ["created_at", "2019-09-19 10:30:51.152104"], ["updated_at", "2019-09-19 10:30:51.152104"]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[35m (104.1ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 222ms (ActiveRecord: 106.5ms | Allocations: 8437)


Started GET "/admin/products" for ::1 at 2019-09-19 13:30:51 +0300
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."provider_id" = $1 ORDER BY "products"."created_at" DESC[0m  [["provider_id", 1]]
  â³ app/views/admin/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/admin/products/index.html.erb:14
  Rendered admin/products/index.html.erb within layouts/application (Duration: 34.1ms | Allocations: 2646)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.2ms | Allocations: 73)
Completed 200 OK in 96ms (Views: 91.9ms | ActiveRecord: 0.9ms | Allocations: 31803)


Started GET "/admin/products/new" for ::1 at 2019-09-19 13:30:54 +0300
Processing by Admin::ProductsController#new as HTML
  Parameters: {"authenticity_token"=>"W0+C+vgPXEeL2Htdbx8nDDg+rbHC3QjH6EaoTXqClXtahYIhyhJZypMnQWSSHoGUD0LAvTFRFj9c9eS0oGagVQ=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/new.html.erb within layouts/application
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/admin/products/new.html.erb:22:in `collect'
  Rendered admin/products/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1476)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.2ms | Allocations: 69)
Completed 200 OK in 42ms (Views: 37.5ms | ActiveRecord: 1.6ms | Allocations: 30550)


Started POST "/admin/products" for ::1 at 2019-09-19 13:31:05 +0300
Processing by Admin::ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"VkIBhQKGwSIlbmJHHGp6hwE+fAPE7kXNCXlRTcd9UBJXiAFeMJvErz2RWH7ha9wfNkIRDzdiWzW9yh20HZllPA==", "title"=>"Harona", "description"=>"Tsara be", "price"=>"10000", "image_url"=>"https://pictures.attention-ngn.com/portal/31/398829/products/1537996611.757_115_o.jpg", "category_id"=>"1", "commit"=>"CrÃ©er"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mProduct Create (2.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "provider_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Harona"], ["description", "Tsara be"], ["price", 10000.0], ["image_url", "https://pictures.attention-ngn.com/portal/31/398829/products/1537996611.757_115_o.jpg"], ["provider_id", 1], ["category_id", 1], ["created_at", "2019-09-19 10:31:05.649458"], ["updated_at", "2019-09-19 10:31:05.649458"]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[35m (58.2ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 74ms (ActiveRecord: 61.6ms | Allocations: 5354)


Started GET "/admin/products" for ::1 at 2019-09-19 13:31:05 +0300
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."provider_id" = $1 ORDER BY "products"."created_at" DESC[0m  [["provider_id", 1]]
  â³ app/views/admin/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/admin/products/index.html.erb:14
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/admin/products/index.html.erb:14
  Rendered admin/products/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2738)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.3ms | Allocations: 68)
Completed 200 OK in 38ms (Views: 33.3ms | ActiveRecord: 1.7ms | Allocations: 31825)


Started DELETE "/users/sign_out" for ::1 at 2019-09-19 13:31:18 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tWFY00jT2V/DizuJj654srZnozANenziaSZhx5NwNcW0q1gIes7c0tt0AbByr94qgRvOPP72YhrdlS0+SZQA6w=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 0.3ms | Allocations: 2718)


Started GET "/" for ::1 at 2019-09-19 13:31:18 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 4.1ms | Allocations: 1472)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.6ms | Allocations: 998)
  Rendered products/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 6166)
Completed 200 OK in 47ms (Views: 43.8ms | ActiveRecord: 1.6ms | Allocations: 34450)


Started POST "/carts.2" for ::1 at 2019-09-19 13:31:25 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"K2g5SWKr6dkvl0lh4NhwzGjibdIto/sJjfG4zG0eOrS9MUA96sn8D6xOtUuQC3m7y0x67lS+LcD+7LMa7fjeLQ=="}
Redirected to http://localhost:3000/users/sign_in
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 435)


Started GET "/users/sign_in" for ::1 at 2019-09-19 13:31:25 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 625)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 74.8ms | Allocations: 2022)
Completed 200 OK in 101ms (Views: 100.2ms | ActiveRecord: 0.0ms | Allocations: 30838)


Started POST "/users/sign_in" for ::1 at 2019-09-19 13:31:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"qeMHEYQQKIUP352ga6Q9ZjL1rBd79Bd6VNkPrs0rdMM/un5lDHI9U4wGYYobdzQRkVu7KwLpwbMnxAR4Tc2QWg==", "user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Se connecter"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 60ms (ActiveRecord: 0.4ms | Allocations: 2009)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"qeMHEYQQKIUP352ga6Q9ZjL1rBd79Bd6VNkPrs0rdMM/un5lDHI9U4wGYYobdzQRkVu7KwLpwbMnxAR4Tc2QWg==", "user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Se connecter"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 132)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 625)
Completed 200 OK in 191ms (Views: 41.8ms | ActiveRecord: 0.0ms | Allocations: 28283)


Started GET "/users/sign_up" for ::1 at 2019-09-19 13:31:36 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 89)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1393)
Completed 200 OK in 41ms (Views: 39.6ms | ActiveRecord: 0.0ms | Allocations: 29819)


Started POST "/users" for ::1 at 2019-09-19 13:31:52 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"Tq8QosCkT3z4iSohVaak29gCN5pXsIg/1znXUK+HTRSAsqZuxD3gbiyj//yTrlyEVB9h0uIUjlUGGoJ0xA08VQ==", "user"=>{"first_name"=>"test", "last_name"=>"test", "email"=>"test@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "test"], ["last_name", "test"], ["email", "test@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$Fq24wjjNZipl1DdFM35DVOWL1hPoX/GHE21jCRWAuXAi4wkLA2kOW"], ["created_at", "2019-09-19 10:31:52.984349"], ["updated_at", "2019-09-19 10:31:52.984349"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 142)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 0.3ms | Allocations: 124)
UserMailer#welcome_email: processed outbound mail in 6.5ms
Delivered mail 5d83591933cfb_30242af9e7cdb598330fd@lenovoa18.mail (4159.5ms)
Date: Thu, 19 Sep 2019 13:31:53 +0300
From: madamarket.mg
To: test@gmail.com
Message-ID: <5d83591933cfb_30242af9e7cdb598330fd@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d83591933219_30242af9e7cdb59832999";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d83591933219_30242af9e7cdb59832999
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciB0ZXN0IGV0IGJpZW52ZW51ZSBjaGV6IG5vdXMgIQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KIA0KVHUgdCdlcyBpbnNjcml0IHN1ciBtYWRhbWFya2V0IGVu
IHV0aWxpc2FudCBsJ2UtbWFpbCBzdWl2YW50IDogdGVzdEBnbWFpbC5jb20u
DQogDQogDQrDgCB0csOocyB2aXRlIHN1ciBtYWRhbWFya2V0ICENCg==

----==_mimepart_5d83591933219_30242af9e7cdb59832999
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut test et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : test=
@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d83591933219_30242af9e7cdb59832999--

  [1m[36mCart Create (1.5ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 2], ["created_at", "2019-09-19 10:31:57.389621"], ["updated_at", "2019-09-19 10:31:57.389621"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4594ms (ActiveRecord: 24.5ms | Allocations: 33855)


Started GET "/" for ::1 at 2019-09-19 13:31:57 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 2]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 14.3ms | Allocations: 6405)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.1ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 23.5ms | Allocations: 10046)
Completed 200 OK in 54ms (Views: 46.1ms | ActiveRecord: 5.1ms | Allocations: 38272)


  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (426.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (430.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_test"[0m
  [1m[35m (1339.7ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_development" ENCODING = 'unicode'[0m
  [1m[35m (1295.0ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_test" ENCODING = 'unicode'[0m
  [1m[35m (181.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (175.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3281140153614043980)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20190910114606)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (136.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying DEFAULT '' NOT NULL, "last_name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "address" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_admin" boolean DEFAULT FALSE)[0m
  [1m[35m (72.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (64.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190910114606"]]
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20190911051137)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (145.0ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "title" character varying, "description" text, "price" float, "image_url" character varying, "provider_id" bigint, "category_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.1ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_provider_id" ON "products"  ("provider_id")[0m
  [1m[35m (64.0ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_category_id" ON "products"  ("category_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051137"]]
  [1m[35m (14.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20190911051311)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (156.9ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "title" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051311"]]
  [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20190911051333)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (90.5ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (74.2ms)[0m  [1m[35mCREATE  INDEX  "index_carts_on_customer_id" ON "carts"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051333"]]
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLikes (20190911051349)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (59.1ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "customer_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (53.1ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_customer_id" ON "likes"  ("customer_id")[0m
  [1m[35m (53.1ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_product_id" ON "likes"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051349"]]
  [1m[35m (33.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommands (20190911051441)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (137.7ms)[0m  [1m[35mCREATE TABLE "commands" ("id" bigserial primary key, "stripe_customer_id" character varying, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (78.1ms)[0m  [1m[35mCREATE  INDEX  "index_commands_on_customer_id" ON "commands"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051441"]]
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartProducts (20190911051729)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (71.9ms)[0m  [1m[35mCREATE TABLE "cart_products" ("id" bigserial primary key, "quantity" integer, "cart_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.4ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_cart_id" ON "cart_products"  ("cart_id")[0m
  [1m[35m (87.9ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_product_id" ON "cart_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051729"]]
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommandProducts (20190911051742)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (61.9ms)[0m  [1m[35mCREATE TABLE "command_products" ("id" bigserial primary key, "command_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.2ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_command_id" ON "command_products"  ("command_id")[0m
  [1m[35m (64.0ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_product_id" ON "command_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051742"]]
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCities (20190911063151)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (129.2ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying, "zip_code" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063151"]]
  [1m[35m (19.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20190911063650)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (161.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (64.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (199.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (62.9ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (63.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063650"]]
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-09-19 10:34:58.252374"], ["updated_at", "2019-09-19 10:34:58.252374"]]
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3281140153614043980)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Artisanals"], ["created_at", "2019-09-19 10:34:58.452581"], ["updated_at", "2019-09-19 10:34:58.452581"]]
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Boissons"], ["created_at", "2019-09-19 10:34:58.477187"], ["updated_at", "2019-09-19 10:34:58.477187"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits laitiers"], ["created_at", "2019-09-19 10:34:58.499574"], ["updated_at", "2019-09-19 10:34:58.499574"]]
  [1m[35m (14.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Charcuteries"], ["created_at", "2019-09-19 10:34:58.521779"], ["updated_at", "2019-09-19 10:34:58.521779"]]
  [1m[35m (15.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Fruits et LÃ©gumes"], ["created_at", "2019-09-19 10:34:58.543836"], ["updated_at", "2019-09-19 10:34:58.543836"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Conserves"], ["created_at", "2019-09-19 10:34:58.565335"], ["updated_at", "2019-09-19 10:34:58.565335"]]
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits de la mer"], ["created_at", "2019-09-19 10:34:58.587484"], ["updated_at", "2019-09-19 10:34:58.587484"]]
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (1.6ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Graines"], ["created_at", "2019-09-19 10:34:58.610271"], ["updated_at", "2019-09-19 10:34:58.610271"]]
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Assaisonnement"], ["created_at", "2019-09-19 10:34:58.631830"], ["updated_at", "2019-09-19 10:34:58.631830"]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits alimentaires"], ["created_at", "2019-09-19 10:34:58.654224"], ["updated_at", "2019-09-19 10:34:58.654224"]]
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Produits agricoles"], ["created_at", "2019-09-19 10:34:58.676509"], ["updated_at", "2019-09-19 10:34:58.676509"]]
  [1m[35m (16.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2019-09-19 13:35:28 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 13.2ms | Allocations: 4718)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 3.0ms | Allocations: 1004)
  Rendered products/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 8011)
Completed 200 OK in 1160ms (Views: 1115.7ms | ActiveRecord: 13.1ms | Allocations: 1317976)


Started GET "/users/sign_up" for ::1 at 2019-09-19 13:35:34 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"hMEUp1rm7vzK4431+TGANzv70JO7Us8Y1316By7mRY0SmG3T0oT7Kkk6cd+J4olAmFXHr8JPGdGkYHHRrgChFA=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.0ms | Allocations: 553)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2488)
Completed 200 OK in 78ms (Views: 58.5ms | ActiveRecord: 0.0ms | Allocations: 38374)


Started POST "/users" for ::1 at 2019-09-19 13:35:50 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"cp56HPD4KnD7v26OfGq5c2S7TWXvEs9ykR12PqBnU5DkxwNoeJo/pnhmkqQMubAExxVaWZYPGbviAH3oIIG3CQ==", "user"=>{"first_name"=>"mada", "last_name"=>"market", "email"=>"madamarket@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "madamarket@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "mada"], ["last_name", "market"], ["email", "madamarket@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$oY2QeIydiAl0KaUHh5xdVuO5mpI56rXRI93oeZKS4jCSy8pPV/wSG"], ["created_at", "2019-09-19 10:35:50.665148"], ["updated_at", "2019-09-19 10:35:50.665148"]]
UserMailer#welcome_email: processed outbound mail in 0.6ms
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 261ms (ActiveRecord: 1.8ms | Allocations: 13331)



RuntimeError - Invalid delivery method :letter_opener:
  app/mailers/user_mailer.rb:12:in `welcome_email'
  app/models/user.rb:21:in `welcome_send'

Started POST "/__better_errors/b37242059628883d/variables" for ::1 at 2019-09-19 13:35:50 +0300
Started POST "/users" for ::1 at 2019-09-19 13:36:13 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"cp56HPD4KnD7v26OfGq5c2S7TWXvEs9ykR12PqBnU5DkxwNoeJo/pnhmkqQMubAExxVaWZYPGbviAH3oIIG3CQ==", "user"=>{"first_name"=>"mada", "last_name"=>"market", "email"=>"madamarket@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (3.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "madamarket@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "mada"], ["last_name", "market"], ["email", "madamarket@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$XLTE0S5vsCk1hCj3ItfLHue3gojj6EXzlMK0DPIZNUxxAZLaZkt2q"], ["created_at", "2019-09-19 10:36:14.139367"], ["updated_at", "2019-09-19 10:36:14.139367"]]
UserMailer#welcome_email: processed outbound mail in 0.5ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 178ms (ActiveRecord: 6.8ms | Allocations: 7869)



RuntimeError - Invalid delivery method :letter_opener:
  app/mailers/user_mailer.rb:12:in `welcome_email'
  app/models/user.rb:21:in `welcome_send'

Started POST "/__better_errors/7d47d770137550dc/variables" for ::1 at 2019-09-19 13:36:14 +0300
Started GET "/" for ::1 at 2019-09-19 13:36:17 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 4.8ms | Allocations: 1058)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.4ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2616)
Completed 200 OK in 54ms (Views: 50.4ms | ActiveRecord: 2.3ms | Allocations: 30190)


Started GET "/users/sign_up" for ::1 at 2019-09-19 13:36:20 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"b85t1hOn4Se5H0ErIgrdwJUKRhyRwFsDF/V5QGv/hi/5lxSim8X08TrGvQFS2dS3NqRRIOjdjcpk6HKW6xlitg=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 78)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 755)
Completed 200 OK in 36ms (Views: 34.3ms | ActiveRecord: 0.0ms | Allocations: 28458)


Started POST "/users" for ::1 at 2019-09-19 13:36:37 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"v+I+7XqkCFe0loO5kWcUfE/6QLPu1iz+zJn0dMGDyA8pu0eZ8sYdgTdPf5PhtB0L7FRXj5fL+je/hP+iQWUslg==", "user"=>{"first_name"=>"mada", "last_name"=>"market", "email"=>"madamarket@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "madamarket@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "mada"], ["last_name", "market"], ["email", "madamarket@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$lqYWLEmeUCD4vJOsFWksXePrBgnKpgRh2aK/SoF8XZgR7i71TNZVi"], ["created_at", "2019-09-19 10:36:37.700716"], ["updated_at", "2019-09-19 10:36:37.700716"]]
UserMailer#welcome_email: processed outbound mail in 0.4ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 170ms (ActiveRecord: 1.6ms | Allocations: 7854)



RuntimeError - Invalid delivery method :letter_opener:
  app/mailers/user_mailer.rb:12:in `welcome_email'
  app/models/user.rb:21:in `welcome_send'

Started POST "/__better_errors/3b3ddb9b05676657/variables" for ::1 at 2019-09-19 13:36:37 +0300
Started GET "/users" for ::1 at 2019-09-19 13:37:37 +0300
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
actionpack (6.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.0.7) lib/webpacker/dev_server_proxy.rb:29:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.0) lib/rails/engine.rb:526:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/" for ::1 at 2019-09-19 13:37:41 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 4.5ms | Allocations: 1049)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.8ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 2607)
Completed 200 OK in 127ms (Views: 125.1ms | ActiveRecord: 1.2ms | Allocations: 30179)


Started GET "/users/sign_up" for ::1 at 2019-09-19 13:37:44 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"lUlpgsuS9V1iI+M+sLbnuCh9qK4+iV4z8Ivpq011GBwDEBD2Q/Dgi+H6HxTAZe7Pi9O/kkeUiPqDluJ9zZP8hQ=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 78)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 750)
Completed 200 OK in 47ms (Views: 45.6ms | ActiveRecord: 0.0ms | Allocations: 28448)


Started POST "/users" for ::1 at 2019-09-19 13:38:00 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"+QZqKgcsLZfxaV4Ca1WSqzaDfO7XJ/ArKmzHw4WkpSNvXxNej044QXKwoigbhpvclS1r0q46JuJZccwVBUJBug==", "user"=>{"first_name"=>"mada", "last_name"=>"market", "email"=>"madamarket@gmail.com", "address"=>"tana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "madamarket@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "mada"], ["last_name", "market"], ["email", "madamarket@gmail.com"], ["address", "tana"], ["encrypted_password", "$2a$11$ALygYf3HUu6rt8oqY8hHMehDYXXla3CKnBI/8Ab2o5FEK0zYMFKCe"], ["created_at", "2019-09-19 10:38:00.344611"], ["updated_at", "2019-09-19 10:38:00.344611"]]
UserMailer#welcome_email: processed outbound mail in 0.4ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 178ms (ActiveRecord: 11.4ms | Allocations: 7839)



RuntimeError - Invalid delivery method :letter_opener:
  app/mailers/user_mailer.rb:12:in `welcome_email'
  app/models/user.rb:21:in `welcome_send'

Started POST "/__better_errors/f4b029a251b56521/variables" for ::1 at 2019-09-19 13:38:00 +0300
Started GET "/" for ::1 at 2019-09-19 13:38:28 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 2.2ms | Allocations: 1050)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.5ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2607)
Completed 200 OK in 55ms (Views: 53.5ms | ActiveRecord: 0.7ms | Allocations: 30191)


Started GET "/" for ::1 at 2019-09-19 13:39:57 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 27.2ms | Allocations: 4190)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.5ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 33.5ms | Allocations: 6201)
Completed 200 OK in 98ms (Views: 77.6ms | ActiveRecord: 7.9ms | Allocations: 38992)


Started GET "/" for ::1 at 2019-09-19 13:40:11 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 3.0ms | Allocations: 1050)
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.9ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 2630)
Completed 200 OK in 60ms (Views: 54.7ms | ActiveRecord: 4.1ms | Allocations: 30189)


Started GET "/users/sign_up" for ::1 at 2019-09-19 13:40:13 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"okvRRSlYzWf43Bea0gjoOtrT0zGAknCllL+xAvZY2RU0EqgxoTrYsXsF67Ci2+FNeX3EDfmPpmznorrUdr49jA=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 89)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 783)
Completed 200 OK in 100ms (Views: 61.2ms | ActiveRecord: 3.9ms | Allocations: 35939)


Started POST "/users" for ::1 at 2019-09-19 13:40:27 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"gzgLPy7+o1CID/8uIdaLxf5wy1F991HSpzoeq7LkyIgVYXJLppy2hgvWAwRRBYKyXd7cbQTqhxvUJxV9MgIsEQ==", "user"=>{"first_name"=>"gfdg", "last_name"=>"fdsfs", "email"=>"rina@gmail.com", "address"=>"ezaea", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rina@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "gfdg"], ["last_name", "fdsfs"], ["email", "rina@gmail.com"], ["address", "ezaea"], ["encrypted_password", "$2a$11$i4tRBXaDAK0QeA0H6tyNfO6GuksMUpGZtZb6jWGKDHbBv2CqsFHMq"], ["created_at", "2019-09-19 10:40:27.805954"], ["updated_at", "2019-09-19 10:40:27.805954"]]
UserMailer#welcome_email: processed outbound mail in 0.8ms
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 190ms (ActiveRecord: 1.1ms | Allocations: 14751)



RuntimeError - Invalid delivery method :letter_opener:
  app/mailers/user_mailer.rb:12:in `welcome_email'
  app/models/user.rb:21:in `welcome_send'

Started POST "/__better_errors/51f7a0d42b29bc23/variables" for ::1 at 2019-09-19 13:40:28 +0300
Started GET "/" for ::1 at 2019-09-19 13:42:44 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 15.0ms | Allocations: 4897)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.2ms | Allocations: 1004)
  Rendered products/index.html.erb within layouts/application (Duration: 25.2ms | Allocations: 8190)
Completed 200 OK in 1219ms (Views: 1183.7ms | ActiveRecord: 10.2ms | Allocations: 1315988)


Started GET "/users/sign_up" for ::1 at 2019-09-19 13:42:50 +0300
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"authenticity_token"=>"c8TDNhNNYi1qvPg9g5PNxdFs/l59S2aeFbTViMh1uaPlnbpCmy93++llBBfzQMSycsLpYgRWsFdmqd5eSJNdOg=="}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.2ms | Allocations: 553)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 20.2ms | Allocations: 2488)
Completed 200 OK in 68ms (Views: 50.2ms | ActiveRecord: 4.1ms | Allocations: 39086)


Started POST "/users" for ::1 at 2019-09-19 13:43:03 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"c2yNsXECKxmfxvkIWTrM3WFT10Sohhmz6pLX9t5uNNflNfTF+WA+zxwfBSIp6cWqwv3AeNGbz3qZj9wgXojQTg==", "user"=>{"first_name"=>"eterte", "last_name"=>"rezrz", "email"=>"test@gmail.com", "address"=>"zea", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"S'inscrire"}
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "address", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "eterte"], ["last_name", "rezrz"], ["email", "test@gmail.com"], ["address", "zea"], ["encrypted_password", "$2a$11$C82MlZlC/9br5f6OPpCGFeEaDWhu9.zKX2giNO2E.ZyHMvv4uZdHu"], ["created_at", "2019-09-19 10:43:04.063245"], ["updated_at", "2019-09-19 10:43:04.063245"]]
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 148)
  Rendering user_mailer/welcome_email.text.erb within layouts/mailer
  Rendered user_mailer/welcome_email.text.erb within layouts/mailer (Duration: 0.3ms | Allocations: 130)
UserMailer#welcome_email: processed outbound mail in 60.3ms
Delivered mail 5d835bb82798c_38382ad90125b9802567d@lenovoa18.mail (276.3ms)
Date: Thu, 19 Sep 2019 13:43:04 +0300
From: madamarket.mg
To: test@gmail.com
Message-ID: <5d835bb82798c_38382ad90125b9802567d@lenovoa18.mail>
Subject: Bienvenue chez nous !
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d835bb820d83_38382ad90125b98025538";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d835bb820d83_38382ad90125b98025538
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

Qm9uam91ciBldGVydGUgZXQgYmllbnZlbnVlIGNoZXogbm91cyAhDQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQogDQpUdSB0J2VzIGluc2NyaXQgc3VyIG1hZGFtYXJrZXQg
ZW4gdXRpbGlzYW50IGwnZS1tYWlsIHN1aXZhbnQgOiB0ZXN0QGdtYWlsLmNv
bS4NCiANCiANCsOAIHRyw6hzIHZpdGUgc3VyIG1hZGFtYXJrZXQgIQ0K

----==_mimepart_5d835bb820d83_38382ad90125b98025538
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Ty=
pe' />=0D
  </head>=0D
  <body>=0D
    <h1>Salut eterte et bienvenue chez nous !</h1>=0D
    <p>=0D
      Tu t'es inscrit sur madamarket en utilisant l'e-mail suivant : test=
@gmail.com.=0D
    </p>=0D
  =0D
    <p> =C3=80 tr=C3=A8s vite sur MadaMarket !=0D
    </p>=0D
  </body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d835bb820d83_38382ad90125b98025538--

  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["customer_id", 6], ["created_at", "2019-09-19 10:43:04.426943"], ["updated_at", "2019-09-19 10:43:04.426943"]]
  â³ app/models/user.rb:26:in `add_cart'
  [1m[35m (64.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4931ms (ActiveRecord: 72.4ms | Allocations: 231273)


Started GET "/" for ::1 at 2019-09-19 13:43:08 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 118.1ms | Allocations: 8885)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.5ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 123.1ms | Allocations: 10442)
Completed 200 OK in 180ms (Views: 166.0ms | ActiveRecord: 10.3ms | Allocations: 38778)


Started GET "/users/6" for ::1 at 2019-09-19 13:43:13 +0300
Processing by UsersController#show as HTML
  Parameters: {"authenticity_token"=>"dmYjbtgFMfEmt8ggjB6m/60G3OUWu2u63LF8CTxFS5jgP1oaUGckJ6VuNAr8za+IDqjL2W+mvXOvrHffvKOvAQ==", "id"=>"6"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/views/users/show.html.erb:58
  Rendered users/show.html.erb within layouts/application (Duration: 46.5ms | Allocations: 3481)
Completed 200 OK in 99ms (Views: 90.9ms | ActiveRecord: 4.6ms | Allocations: 33038)


Started GET "/users/6/edit" for ::1 at 2019-09-19 13:43:15 +0300
Processing by UsersController#edit as HTML
  Parameters: {"authenticity_token"=>"WB2LLTy1MLDZfqXHoBjA8cXmLuOXdkS0Ca3v9e1vJs/ORPJZtNclZlqnWe3Qy8mGZkg53+5rkn16sOQjbYnCVg==", "id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:7:in `edit'
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 17.1ms | Allocations: 2019)
Completed 200 OK in 77ms (Views: 72.5ms | ActiveRecord: 0.4ms | Allocations: 30459)


Started PUT "/users/6" for ::1 at 2019-09-19 13:43:19 +0300
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"8L9e8AolyCT+Js79dDOJC6XvIvUdDl5EO8u50azp09Rm5ieEgkfd8n3/MtcE4IB8BkE1yWQTiI1I1rIHLA83TQ==", "first_name"=>"eterte", "last_name"=>"rezrz", "email"=>"test@gmail.com", "is_admin"=>"1", "commit"=>"Modifier le profil", "id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:11:in `update'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/users_controller.rb:16:in `update'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "is_admin" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["is_admin", true], ["updated_at", "2019-09-19 10:43:19.504352"], ["id", 6]]
  â³ app/controllers/users_controller.rb:16:in `update'
  [1m[35m (19.5ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/users_controller.rb:16:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/users_controller.rb:21:in `update'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:21:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/users_controller.rb:21:in `update'
Redirected to http://localhost:3000/users/6
Completed 302 Found in 47ms (ActiveRecord: 22.6ms | Allocations: 6535)


Started GET "/users/6" for ::1 at 2019-09-19 13:43:19 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/views/users/show.html.erb:58
  Rendered users/show.html.erb within layouts/application (Duration: 11.1ms | Allocations: 1243)
  Rendered layouts/_admin_nav.html.erb (Duration: 11.3ms | Allocations: 376)
Completed 200 OK in 119ms (Views: 106.5ms | ActiveRecord: 2.4ms | Allocations: 30724)


Started GET "/admin/products/new" for ::1 at 2019-09-19 13:43:20 +0300
Processing by Admin::ProductsController#new as HTML
  Parameters: {"authenticity_token"=>"7lTFMzjKJR0UzXt0WqoMtnSq9i0qmRqCkOcuzGYFhkx4DbxHsKgwy5cUh14qeQXB1wThEVOEzEvj+iUa5uNi1Q=="}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering admin/products/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/admin/products/new.html.erb:22:in `collect'
  Rendered admin/products/new.html.erb within layouts/application (Duration: 30.5ms | Allocations: 1963)
  Rendered layouts/_admin_nav.html.erb (Duration: 3.7ms | Allocations: 75)
Completed 200 OK in 182ms (Views: 149.4ms | ActiveRecord: 2.2ms | Allocations: 36852)


Started POST "/admin/products" for ::1 at 2019-09-19 13:43:33 +0300
Processing by Admin::ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"qwm7B1GsdkuNLiuYDKqLT+YMQPiDuqRH8Fsky1Bs5R89UMJz2c5jnQ7317J8eYI4RaJXxPqnco6DRi8d0IoBhg==", "title"=>"Sakoa", "description"=>"tsara be", "price"=>"5000", "image_url"=>"https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151561849_n.jpg?_nc_ht=scontent-frx5-1.cdninstagram.com", "category_id"=>"5", "commit"=>"CrÃ©er"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "provider_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Sakoa"], ["description", "tsara be"], ["price", 5000.0], ["image_url", "https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151561849_n.jpg?_nc_ht=scontent-frx5-1.cdninstagram.com"], ["provider_id", 6], ["category_id", 5], ["created_at", "2019-09-19 10:43:33.915502"], ["updated_at", "2019-09-19 10:43:33.915502"]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[35m (63.5ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 146ms (ActiveRecord: 65.0ms | Allocations: 6579)


Started GET "/admin/products" for ::1 at 2019-09-19 13:43:33 +0300
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."provider_id" = $1 ORDER BY "products"."created_at" DESC[0m  [["provider_id", 6]]
  â³ app/views/admin/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/admin/products/index.html.erb:14
  Rendered admin/products/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 2628)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.2ms | Allocations: 73)
Completed 200 OK in 81ms (Views: 75.8ms | ActiveRecord: 2.2ms | Allocations: 31772)


Started GET "/admin/products/new" for ::1 at 2019-09-19 13:43:36 +0300
Processing by Admin::ProductsController#new as HTML
  Parameters: {"authenticity_token"=>"2eFTEx2xZ/rfFaDq+UQV/4kBNrE8Q+cGxB8MPWGrbKBPuCpnldNyLFzMXMCJlxyIKq8hjUVeMc+3Agfr4U2IOQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering admin/products/new.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/admin/products/new.html.erb:22:in `collect'
  Rendered admin/products/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1475)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.3ms | Allocations: 69)
Completed 200 OK in 31ms (Views: 27.9ms | ActiveRecord: 0.8ms | Allocations: 30547)


Started POST "/admin/products" for ::1 at 2019-09-19 13:43:50 +0300
Processing by Admin::ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"ZHtbfD4LM/Ld3nLBEj2ChOLrgr2qBbXTNx8v4jFUE5HyIiIItmkmJF4Hjuti7ovzQUWVgdMYYxpEAiQ0sbL3CA==", "title"=>"Harona", "description"=>"tsara be", "price"=>"5000", "image_url"=>"https://pictures.attention-ngn.com/portal/31/398829/products/1537996611.757_115_o.jpg", "category_id"=>"1", "commit"=>"CrÃ©er"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[36mProduct Create (1.8ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "provider_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Harona"], ["description", "tsara be"], ["price", 5000.0], ["image_url", "https://pictures.attention-ngn.com/portal/31/398829/products/1537996611.757_115_o.jpg"], ["provider_id", 6], ["category_id", 1], ["created_at", "2019-09-19 10:43:50.178564"], ["updated_at", "2019-09-19 10:43:50.178564"]]
  â³ app/controllers/admin/products_controller.rb:19:in `create'
  [1m[35m (51.7ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/admin/products_controller.rb:19:in `create'
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 66ms (ActiveRecord: 56.5ms | Allocations: 5338)


Started GET "/admin/products" for ::1 at 2019-09-19 13:43:50 +0300
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."provider_id" = $1 ORDER BY "products"."created_at" DESC[0m  [["provider_id", 6]]
  â³ app/views/admin/products/index.html.erb:7
  [1m[36mActiveStorage::Attachment Load (2.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/admin/products/index.html.erb:14
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/admin/products/index.html.erb:14
  Rendered admin/products/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 2738)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.3ms | Allocations: 68)
Completed 200 OK in 55ms (Views: 46.7ms | ActiveRecord: 5.6ms | Allocations: 31826)


Started GET "/users/6" for ::1 at 2019-09-19 13:43:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"authenticity_token"=>"sbCjUmf3TmytBYYJUihRh8dOCbdy692N4FNUU9TYOOkn6dom75Vbui7ceiMi+1jwZOAeiwv2C0STTl+FVD7ccA==", "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/views/users/show.html.erb:58
  Rendered users/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1249)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.2ms | Allocations: 73)
Completed 200 OK in 55ms (Views: 50.3ms | ActiveRecord: 2.1ms | Allocations: 30276)


Started GET "/users/6/edit" for ::1 at 2019-09-19 13:43:56 +0300
Processing by UsersController#edit as HTML
  Parameters: {"authenticity_token"=>"84Nz5VGB+3bTATI41JrTnpuf+oWNbrYvFzU8LKBoSzxl2gqR2ePuoFDYzhKkSdrpODHtufRzYOZkKDf6II6vpQ==", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:7:in `edit'
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 0.8ms | Allocations: 433)
  Rendered layouts/_admin_nav.html.erb (Duration: 0.2ms | Allocations: 68)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.2ms | Allocations: 28860)


Started PUT "/users/6" for ::1 at 2019-09-19 13:43:58 +0300
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"TEVMgHNtVOdAM4tSoNnqB1m6esnRFkelpzc83CLmg23aHDX0+w9BMcPqd3jQCuNw+hRt9agLkWzUKjcKogBn9A==", "first_name"=>"eterte", "last_name"=>"rezrz", "email"=>"test@gmail.com", "commit"=>"Modifier le profil", "id"=>"6"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:11:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/users_controller.rb:19:in `update'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "is_admin" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["is_admin", false], ["updated_at", "2019-09-19 10:43:59.005913"], ["id", 6]]
  â³ app/controllers/users_controller.rb:19:in `update'
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/users_controller.rb:19:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/users_controller.rb:21:in `update'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/controllers/users_controller.rb:21:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/users_controller.rb:21:in `update'
Redirected to http://localhost:3000/users/6
Completed 302 Found in 39ms (ActiveRecord: 26.1ms | Allocations: 6295)


Started GET "/users/6" for ::1 at 2019-09-19 13:43:59 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â³ app/views/users/show.html.erb:58
  Rendered users/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1240)
Completed 200 OK in 39ms (Views: 33.9ms | ActiveRecord: 0.7ms | Allocations: 30129)


Started GET "/" for ::1 at 2019-09-19 13:44:03 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 10.3ms | Allocations: 3270)
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.3ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 23.0ms | Allocations: 6913)
Completed 200 OK in 52ms (Views: 42.1ms | ActiveRecord: 7.9ms | Allocations: 35240)


Started POST "/carts.1" for ::1 at 2019-09-19 13:44:08 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"g4jbM1Jq7Rjq5NLj+jNRrTMjU3t4s0qKEt/4v2nAfocV0aJH2gj4zmk9LsmK4FjakI1ERwGunENhwvNp6SaaHg=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[36mCartProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "cart_products" ("quantity", "cart_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["cart_id", 1], ["product_id", 1], ["created_at", "2019-09-19 10:44:08.141532"], ["updated_at", "2019-09-19 10:44:08.141532"]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (111.0ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 142ms (ActiveRecord: 119.3ms | Allocations: 10124)


Started GET "/" for ::1 at 2019-09-19 13:44:08 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 8.5ms | Allocations: 3260)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 3.5ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 45.5ms | Allocations: 6901)
Completed 200 OK in 80ms (Views: 73.0ms | ActiveRecord: 5.3ms | Allocations: 35212)


Started POST "/carts.1" for ::1 at 2019-09-19 13:44:11 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"SwCFvGKBszBMoeod6AX4evVxFhXPLj5HDeayPRoVpYPdWfzI6uOm5s94FjeY1vENVt8BKbYz6I5++7nrmvNBGg=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[36mCartProduct Load (0.5ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 AND "cart_products"."product_id" = $2 LIMIT $3[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mCartProduct Update (1.2ms)[0m  [1m[33mUPDATE "cart_products" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_products"."id" = $3[0m  [["quantity", 2], ["updated_at", "2019-09-19 10:44:11.130559"], ["id", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[35m (488.9ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 520ms (ActiveRecord: 498.2ms | Allocations: 9115)


Started GET "/" for ::1 at 2019-09-19 13:44:11 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (2.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 9.8ms | Allocations: 3260)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.7ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 6899)
Completed 200 OK in 53ms (Views: 45.7ms | ActiveRecord: 5.3ms | Allocations: 35205)


Started POST "/carts.2" for ::1 at 2019-09-19 13:44:14 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"EAyBF4nYYcmkvHj9MRNUzCj28P+pMtUZgrh/JDkRW4+GVfhjAbp0HydlhNdBwF27i1jnw9AvA9DxpXTyufe/Fg=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[36mCartProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "cart_products" ("quantity", "cart_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["cart_id", 1], ["product_id", 2], ["created_at", "2019-09-19 10:44:14.076198"], ["updated_at", "2019-09-19 10:44:14.076198"]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (165.0ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 183ms (ActiveRecord: 167.3ms | Allocations: 6003)


Started GET "/" for ::1 at 2019-09-19 13:44:14 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (4.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 14.6ms | Allocations: 3260)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 3.8ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 30.4ms | Allocations: 6899)
Completed 200 OK in 82ms (Views: 67.1ms | ActiveRecord: 13.1ms | Allocations: 35212)


Started GET "/carts/6" for ::1 at 2019-09-19 13:44:15 +0300
Processing by CartsController#show as HTML
  Parameters: {"authenticity_token"=>"9RKFMbFNwglOjgEhXk+gi1/EyVel8SR19vYgndbTWBBjS/xFOS/X381X/QsunKn8/Grea9zs8ryF6ytLVjW8iQ==", "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (0.5ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (4.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.0ms | Allocations: 2546)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.1ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 28.3ms | Allocations: 6068)
Completed 200 OK in 114ms (Views: 88.0ms | ActiveRecord: 11.6ms | Allocations: 37928)


Started GET "/charges/new" for ::1 at 2019-09-19 13:44:17 +0300
Processing by ChargesController#new as HTML
  Parameters: {"authenticity_token"=>"cOXEgymOlayuQpLrOltnAU5lCLWlQSdoaz0VP6Xnt+XmvL33oeyAei2bbsFKiG527csfidxc8aEYIB7pJQFTfA=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/models/cart.rb:9:in `total_price'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 7.1ms | Allocations: 2547)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/charges/new.html.erb:36
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.1ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 28.8ms | Allocations: 4755)
Completed 200 OK in 93ms (Views: 64.7ms | ActiveRecord: 3.3ms | Allocations: 35984)


Started POST "/charges" for ::1 at 2019-09-19 13:45:10 +0300
Processing by ChargesController#create as HTML
  Parameters: {"authenticity_token"=>"viRdAVQhLzGPHdB3xDMGOcA5iHTiFlxRUiqqNil4ussofSR13EM65wzELF204A9OY5efSJsLipghN6HgqZ5eUg==", "stripeToken"=>"tok_1FKN8J2eZvKYlo2CsRAVU8Ew", "stripeTokenType"=>"card", "stripeEmail"=>"rrianasoaonimalala@gmail.com"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `create'
  [1m[35m (3.3ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/models/cart.rb:9:in `total_price'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/charges_controller.rb:30:in `create'
  [1m[36mCommand Create (0.9ms)[0m  [1m[32mINSERT INTO "commands" ("stripe_customer_id", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stripe_customer_id", "cus_Fq3EwHsj0WbjLj"], ["customer_id", 6], ["created_at", "2019-09-19 10:45:15.611737"], ["updated_at", "2019-09-19 10:45:15.611737"]]
  â³ app/controllers/charges_controller.rb:30:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/mailers/user_mailer.rb:20:in `command_email'
UserMailer#command_email: processed outbound mail in 4.0ms
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â³ app/controllers/charges_controller.rb:30:in `create'
Completed 500 Internal Server Error in 4703ms (ActiveRecord: 10.6ms | Allocations: 21114)



NoMethodError - undefined method `cart' for nil:NilClass:
  app/mailers/user_mailer.rb:23:in `command_email'
  app/models/command.rb:10:in `command_send'
  app/controllers/charges_controller.rb:30:in `create'

Started POST "/__better_errors/56a8131ee3a921cd/variables" for ::1 at 2019-09-19 13:45:15 +0300
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 LIMIT $2[0m  [["cart_id", 1], ["LIMIT", 11]]
Started POST "/charges" for ::1 at 2019-09-19 13:46:11 +0300
Processing by ChargesController#create as HTML
  Parameters: {"authenticity_token"=>"viRdAVQhLzGPHdB3xDMGOcA5iHTiFlxRUiqqNil4ussofSR13EM65wzELF204A9OY5efSJsLipghN6HgqZ5eUg==", "stripeToken"=>"tok_1FKN8J2eZvKYlo2CsRAVU8Ew", "stripeTokenType"=>"card", "stripeEmail"=>"rrianasoaonimalala@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `create'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/models/cart.rb:9:in `total_price'
Completed 500 Internal Server Error in 1692ms (ActiveRecord: 16.4ms | Allocations: 23856)



Stripe::InvalidRequestError - You cannot use a Stripe token more than once: tok_1FKN8J2eZvKYlo2CsRAVU8Ew.:
  app/controllers/charges_controller.rb:14:in `create'

Started POST "/__better_errors/14389d1407b3b40c/variables" for ::1 at 2019-09-19 13:46:13 +0300
Started GET "/" for ::1 at 2019-09-19 13:46:21 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 22.8ms | Allocations: 6421)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.3ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 47.4ms | Allocations: 16733)
Completed 200 OK in 136ms (Views: 76.1ms | ActiveRecord: 10.9ms | Allocations: 45186)


Started POST "/carts.1" for ::1 at 2019-09-19 13:46:25 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"G+YjXot6yRQRdbkAJIozn138shGAvD+9sLM77avvTz2Nv1oqAxjcwpKsRSpUWTro/lKlLfmh6XTDrjA7KwmrpA=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[36mCartProduct Load (1.2ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 AND "cart_products"."product_id" = $2 LIMIT $3[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mCartProduct Update (0.5ms)[0m  [1m[33mUPDATE "cart_products" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_products"."id" = $3[0m  [["quantity", 3], ["updated_at", "2019-09-19 10:46:25.104172"], ["id", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[35m (22.5ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 61ms (ActiveRecord: 31.2ms | Allocations: 13182)


Started GET "/" for ::1 at 2019-09-19 13:46:25 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 9.2ms | Allocations: 3260)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 20.5ms | Allocations: 6899)
Completed 200 OK in 48ms (Views: 41.0ms | ActiveRecord: 4.6ms | Allocations: 35206)


Started GET "/carts/6" for ::1 at 2019-09-19 13:46:26 +0300
Processing by CartsController#show as HTML
  Parameters: {"authenticity_token"=>"bu2Hb79hhiKuN6rNa+Xs9jUCt53tx25WW0j6KSSZ6Vr4tP4bNwOT9C3uVucbNuWBlqygoZTauJ8oVfH/pH8Nww==", "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (4.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 7.1ms | Allocations: 2546)
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.7ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 18.5ms | Allocations: 5516)
Completed 200 OK in 58ms (Views: 39.7ms | ActiveRecord: 10.4ms | Allocations: 36855)


Started GET "/charges/new" for ::1 at 2019-09-19 13:46:29 +0300
Processing by ChargesController#new as HTML
  Parameters: {"authenticity_token"=>"hq6s4uNLycnJLipmM0RC6nbc1hdMw7ovaP1vuIH94y8Q99WWayncH0r31kxDl0ud1XLBKzXebOYb4GRuARsHtg=="}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[35m (2.2ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/models/cart.rb:9:in `total_price'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 7.8ms | Allocations: 2547)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/charges/new.html.erb:36
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 4.0ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 16.1ms | Allocations: 4342)
Completed 200 OK in 77ms (Views: 63.4ms | ActiveRecord: 7.1ms | Allocations: 34985)


Started GET "/charges/new" for ::1 at 2019-09-19 13:50:42 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
Completed 404 Not Found in 51ms (ActiveRecord: 13.6ms | Allocations: 21270)



ActiveRecord::RecordNotFound - Couldn't find Product without an ID:
  app/controllers/charges_controller.rb:6:in `new'

Started POST "/__better_errors/b6de50a606bed086/variables" for ::1 at 2019-09-19 13:50:42 +0300
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 LIMIT $2[0m  [["cart_id", 1], ["LIMIT", 11]]
Started GET "/charges/new" for ::1 at 2019-09-19 13:51:52 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 10.1ms | Allocations: 23166)



NoMethodError - undefined method `quantity' for #<Class:0x00007fb902a5dad0>:
  app/controllers/charges_controller.rb:6:in `new'

Started POST "/__better_errors/18b804ea3f5aa8aa/variables" for ::1 at 2019-09-19 13:51:52 +0300
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 LIMIT $2[0m  [["cart_id", 1], ["LIMIT", 11]]
Started GET "/charges/new" for ::1 at 2019-09-19 13:54:01 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/models/cart.rb:9:in `total_price'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 20.4ms | Allocations: 6073)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/charges/new.html.erb:36
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 3.4ms | Allocations: 998)
  Rendered charges/new.html.erb within layouts/application (Duration: 41.4ms | Allocations: 13931)
Completed 200 OK in 247ms (Views: 143.0ms | ActiveRecord: 23.1ms | Allocations: 64538)


Started GET "/carts/6" for ::1 at 2019-09-19 13:54:16 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (0.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 6.5ms | Allocations: 2547)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 19.1ms | Allocations: 7781)
Completed 200 OK in 67ms (Views: 40.2ms | ActiveRecord: 9.2ms | Allocations: 43679)


Started GET "/charges/new" for ::1 at 2019-09-19 13:54:22 +0300
Processing by ChargesController#new as HTML
  Parameters: {"authenticity_token"=>"6WUuliyl56VGtc+heujuZJ+emr+V6tocFZixt3nUJIR/PFfipMfyc8VsM4sKO+cTPDCNg+z3DNVmhbph+TLAHQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/models/cart.rb:9:in `total_price'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 8.2ms | Allocations: 2546)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/charges/new.html.erb:36
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.5ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 12.5ms | Allocations: 4341)
Completed 200 OK in 47ms (Views: 38.7ms | ActiveRecord: 2.7ms | Allocations: 34811)


Started GET "/carts/6" for ::1 at 2019-09-19 13:59:49 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (0.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (4.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 27.6ms | Allocations: 6085)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (2.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.4ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 44.1ms | Allocations: 10539)
Completed 200 OK in 142ms (Views: 70.5ms | ActiveRecord: 11.7ms | Allocations: 68448)


Started GET "/" for ::1 at 2019-09-19 14:00:12 +0300
Processing by ProductsController#index as HTML
  Parameters: {"authenticity_token"=>"IRrdljhJPBOOqaa7qeKnZ6hobdL3u8gvVgwQbQVV8me3Q6TisCspxQ1wWpHZMa4QC8Z67o6mHuYlERu7hbMW/g=="}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (3.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.5ms | Allocations: 3294)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (4.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 24.5ms | Allocations: 7500)
Completed 200 OK in 54ms (Views: 38.4ms | ActiveRecord: 13.1ms | Allocations: 36499)


Started POST "/carts.2" for ::1 at 2019-09-19 14:00:15 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"eE8ErqkDrG4lMFyzsONxgBtjLMdbEcxRCIzKGxgGGUvuFn3aIWG5uKbpoJnAMHj3uM07+yIMGph7kcHNmOD90g=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[36mCartProduct Load (0.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 AND "cart_products"."product_id" = $2 LIMIT $3[0m  [["cart_id", 1], ["product_id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mCartProduct Update (0.7ms)[0m  [1m[33mUPDATE "cart_products" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_products"."id" = $3[0m  [["quantity", 2], ["updated_at", "2019-09-19 11:00:15.374269"], ["id", 2]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[35m (27.2ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 58ms (ActiveRecord: 35.7ms | Allocations: 9140)


Started GET "/" for ::1 at 2019-09-19 14:00:15 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 8.9ms | Allocations: 3260)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 3.1ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 6899)
Completed 200 OK in 52ms (Views: 44.9ms | ActiveRecord: 4.8ms | Allocations: 35212)


Started GET "/carts/6" for ::1 at 2019-09-19 14:00:16 +0300
Processing by CartsController#show as HTML
  Parameters: {"authenticity_token"=>"v0Lmaor0oFM5Zmv3NBIfGpp295zzFefziZAR2PHR+K8pG58eApa1hbq/l91EwRZtOdjgoIoIMTr6jRoOcTccNg==", "id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (0.6ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 8.0ms | Allocations: 2546)
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.5ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 16.7ms | Allocations: 5513)
Completed 200 OK in 73ms (Views: 54.5ms | ActiveRecord: 11.7ms | Allocations: 36536)


Started GET "/carts/6" for ::1 at 2019-09-19 14:00:25 +0300
Processing by CartsController#show as HTML
  Parameters: {"authenticity_token"=>"GkeZ44M1AV1jNiegqgn/nSy1vO7Uoo5CnCTTzMIYE8mMHuCXC1cUi+Dv24ra2vbqjxur0q2/WIvvOdgaQv73UA==", "id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (3.7ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 7.2ms | Allocations: 2537)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (4.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.0ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 19.1ms | Allocations: 5503)
Completed 200 OK in 62ms (Views: 40.9ms | ActiveRecord: 13.6ms | Allocations: 36525)


Started GET "/carts/6" for ::1 at 2019-09-19 14:00:48 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (0.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 18.2ms | Allocations: 6247)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.1ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 28.2ms | Allocations: 10896)
Completed 200 OK in 161ms (Views: 48.1ms | ActiveRecord: 43.1ms | Allocations: 69703)


Started GET "/charges/new" for ::1 at 2019-09-19 14:01:39 +0300
Processing by ChargesController#new as HTML
  Parameters: {"authenticity_token"=>"t/2d6NCYoLCE1X5noI+O/f0vXFQWQGmdV/ReR7JF48chpOScWPq1ZgcMgk3QXIeKXoFLaG9dv1Qk6VWRMqMHXg=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/models/cart.rb:9:in `total_price'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 18.0ms | Allocations: 5661)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/charges/new.html.erb:36
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.5ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 30.9ms | Allocations: 12640)
Completed 200 OK in 131ms (Views: 73.4ms | ActiveRecord: 18.1ms | Allocations: 62240)


Started GET "/charges/new" for ::1 at 2019-09-19 14:06:06 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
Completed 404 Not Found in 50ms (ActiveRecord: 14.3ms | Allocations: 20829)



ActiveRecord::RecordNotFound - Couldn't find Product without an ID:
  app/controllers/charges_controller.rb:4:in `new'

Started POST "/__better_errors/4bd9cfe07af13813/variables" for ::1 at 2019-09-19 14:06:06 +0300
Started GET "/charges/new" for ::1 at 2019-09-19 14:06:25 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
Completed 500 Internal Server Error in 54ms (ActiveRecord: 7.5ms | Allocations: 16432)



NoMethodError - undefined method `products' for nil:NilClass:
  app/controllers/charges_controller.rb:5:in `new'

Started POST "/__better_errors/f9e0245398e0e045/variables" for ::1 at 2019-09-19 14:06:26 +0300
  [1m[36mCartProduct Load (2.7ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 LIMIT $2[0m  [["cart_id", 1], ["LIMIT", 11]]
Started GET "/charges/new" for ::1 at 2019-09-19 14:07:45 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (0.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 LIMIT $2[0m  [["cart_id", 1], ["LIMIT", 11]]
Completed 500 Internal Server Error in 73ms (ActiveRecord: 18.3ms | Allocations: 24446)


  [1m[36mCACHE CartProduct Load (0.0ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 LIMIT $2[0m  [["cart_id", 1], ["LIMIT", 11]]

NoMethodError - undefined method `quantity' for #<CartProduct::ActiveRecord_Associations_CollectionProxy:0x00007fb902e37c50>:
  app/controllers/charges_controller.rb:5:in `new'

Started POST "/__better_errors/fe669d7174069c1a/variables" for ::1 at 2019-09-19 14:07:45 +0300
  [1m[36mCartProduct Load (0.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 LIMIT $2[0m  [["cart_id", 1], ["LIMIT", 11]]
  [1m[36mCACHE CartProduct Load (0.0ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 LIMIT $2[0m  [["cart_id", 1], ["LIMIT", 11]]
  [1m[36mCACHE CartProduct Load (0.0ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 LIMIT $2[0m  [["cart_id", 1], ["LIMIT", 11]]
Started GET "/charges/new" for ::1 at 2019-09-19 14:17:07 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (0.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
Completed 500 Internal Server Error in 66ms (ActiveRecord: 6.9ms | Allocations: 31908)



NoMethodError - undefined method `+' for nil:NilClass:
  app/controllers/charges_controller.rb:10:in `block in new'
  app/controllers/charges_controller.rb:9:in `new'

Started POST "/__better_errors/ecfdba49c93500e3/variables" for ::1 at 2019-09-19 14:17:07 +0300
Started GET "/charges/new" for ::1 at 2019-09-19 14:17:28 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (0.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 26.2ms | Allocations: 5670)
  Rendered charges/new.html.erb within layouts/application (Duration: 30.8ms | Allocations: 9020)
Completed 500 Internal Server Error in 113ms (ActiveRecord: 25.2ms | Allocations: 41879)



NoMethodError - undefined method `title' for #<CartProduct:0x00007fb90291e340>:
  app/views/charges/new.html.erb:38
  app/views/charges/new.html.erb:36
  app/views/charges/new.html.erb:29

Started POST "/__better_errors/ecda7f598b911a70/variables" for ::1 at 2019-09-19 14:17:28 +0300
Started GET "/charges/new" for ::1 at 2019-09-19 14:18:10 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (1.2ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (1.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (2.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 17.0ms | Allocations: 2957)
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 4.2ms | Allocations: 998)
  Rendered charges/new.html.erb within layouts/application (Duration: 23.2ms | Allocations: 4908)
Completed 200 OK in 103ms (Views: 77.1ms | ActiveRecord: 11.4ms | Allocations: 37750)


Started GET "/charges/new" for ::1 at 2019-09-19 14:19:48 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (0.7ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (4.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 13.9ms | Allocations: 2957)
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 4.7ms | Allocations: 998)
  Rendered charges/new.html.erb within layouts/application (Duration: 22.2ms | Allocations: 4896)
Completed 200 OK in 102ms (Views: 81.5ms | ActiveRecord: 8.1ms | Allocations: 37726)


Started GET "/" for ::1 at 2019-09-19 14:20:14 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (3.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 10.6ms | Allocations: 3270)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.3ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 9235)
Completed 200 OK in 57ms (Views: 45.1ms | ActiveRecord: 8.2ms | Allocations: 38198)


Started POST "/carts.2" for ::1 at 2019-09-19 14:20:17 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"+dBxcb2eovMrE5GEMroYGA4M9B4633SsFiJbMzvHOxdviQgFNfy3JajKba5CaRFvraLjIkPComVlP1DluyHfjg=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[36mCartProduct Load (0.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 AND "cart_products"."product_id" = $2 LIMIT $3[0m  [["cart_id", 1], ["product_id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mCartProduct Update (0.6ms)[0m  [1m[33mUPDATE "cart_products" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_products"."id" = $3[0m  [["quantity", 3], ["updated_at", "2019-09-19 11:20:17.190715"], ["id", 2]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[35m (28.5ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 56ms (ActiveRecord: 34.8ms | Allocations: 9141)


Started GET "/" for ::1 at 2019-09-19 14:20:17 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 8.9ms | Allocations: 3260)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.8ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 6899)
Completed 200 OK in 46ms (Views: 38.6ms | ActiveRecord: 4.7ms | Allocations: 35205)


Started POST "/carts.1" for ::1 at 2019-09-19 14:20:19 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"hHXKSEcKz/E7xLb5/QX+HXd4d+LMDRZUkij+D5k6N0USLLM8z2jaJ7gdStON1vdq1NZg3rUQwJ3hNfXZGdzT3A=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[36mCartProduct Load (2.6ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 AND "cart_products"."product_id" = $2 LIMIT $3[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mCartProduct Update (1.5ms)[0m  [1m[33mUPDATE "cart_products" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_products"."id" = $3[0m  [["quantity", 4], ["updated_at", "2019-09-19 11:20:19.894243"], ["id", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 41ms (ActiveRecord: 22.3ms | Allocations: 8638)


Started GET "/" for ::1 at 2019-09-19 14:20:19 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 13.6ms | Allocations: 3260)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.4ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 28.1ms | Allocations: 6899)
Completed 200 OK in 84ms (Views: 74.9ms | ActiveRecord: 5.5ms | Allocations: 35208)


Started GET "/carts/6" for ::1 at 2019-09-19 14:20:21 +0300
Processing by CartsController#show as HTML
  Parameters: {"authenticity_token"=>"iJ20BNYevK1i5zWbsvkFLV6w/JyGjwXVLf7YVHHRJbgexM1wXnype+E+ybHCKgxa/R7roP+S0xxe49OC8TfBIQ==", "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (2.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 7.3ms | Allocations: 2546)
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.8ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 18.9ms | Allocations: 6039)
Completed 200 OK in 85ms (Views: 65.0ms | ActiveRecord: 8.2ms | Allocations: 37754)


Started GET "/charges/new" for ::1 at 2019-09-19 14:20:27 +0300
Processing by ChargesController#new as HTML
  Parameters: {"authenticity_token"=>"j30HdRgixst8IVxq/xzd4m5NdVGnkeF5UH9Dk/MwE9QZJH4BkEDTHf/4oECPz9SVzeNibd6MN7AjYkhFc9b3TQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (2.2ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.2ms | Allocations: 2546)
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.8ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 13.9ms | Allocations: 3602)
Completed 200 OK in 77ms (Views: 58.8ms | ActiveRecord: 4.8ms | Allocations: 35274)


Started POST "/charges" for ::1 at 2019-09-19 14:21:38 +0300
Processing by ChargesController#create as HTML
  Parameters: {"authenticity_token"=>"R3zPAsXiRkHMebdXIh8pETHd9Bmyzsn4elTcAHgoEVTRJbZ2TYBTl0+gS31SzCBmknPjJcvTHzEJSdfW+M71zQ==", "stripeToken"=>"tok_1FKNhb2eZvKYlo2CMv6YRpXi", "stripeTokenType"=>"card", "stripeEmail"=>"rrianasoaonimalala@gmail.com"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/models/cart.rb:9:in `total_price'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/charges_controller.rb:35:in `create'
  [1m[36mCommand Create (0.8ms)[0m  [1m[32mINSERT INTO "commands" ("stripe_customer_id", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stripe_customer_id", "cus_Fq3pzkddudQlCU"], ["customer_id", 6], ["created_at", "2019-09-19 11:21:44.005490"], ["updated_at", "2019-09-19 11:21:44.005490"]]
  â³ app/controllers/charges_controller.rb:35:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/mailers/user_mailer.rb:20:in `command_email'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/mailers/user_mailer.rb:23:in `command_email'
  Rendering user_mailer/command_email.html.erb within layouts/mailer
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/user_mailer/command_email.html.erb:14
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/user_mailer/command_email.html.erb:19
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/user_mailer/command_email.html.erb:19
  Rendered user_mailer/command_email.html.erb within layouts/mailer (Duration: 30.8ms | Allocations: 3334)
  Rendering user_mailer/command_email.text.erb within layouts/mailer
  Rendered user_mailer/command_email.text.erb within layouts/mailer (Duration: 0.6ms | Allocations: 207)
UserMailer#command_email: processed outbound mail in 51.6ms
Delivered mail 5d8364c91ccd2_38382ad90125bf5c25838@lenovoa18.mail (191.8ms)
Date: Thu, 19 Sep 2019 14:21:45 +0300
From: madamarket.mg
To: test@gmail.com
Message-ID: <5d8364c91ccd2_38382ad90125bf5c25838@lenovoa18.mail>
Subject: Merci pour votre commande!
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d8364c91ba1b_38382ad90125bf5c257a6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d8364c91ba1b_38382ad90125bf5c257a6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Bonjour test@gmail.com et merci pour votre commande=0D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=0D
=0D
Vous venez juste de confirmer votre commande !=0D
=0D
Voil=C3=A0 votre commande:=0D
=0D
<!-- We do a loop in order to display in the mail the title and the image=
 -->=0D
=0D
Sakoa=0D
=0D
 Vous pouvez acc=C3=A9der sur ce lien d'image https://scontent.cdninstagr=
am.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x=
480/12724953_770026423097258_151561849_n.jpg?_nc_ht=3Dscontent-frx5-1.cdn=
instagram.com=0D
=0D
=0D
Harona=0D
=0D
 Vous pouvez acc=C3=A9der sur ce lien d'image https://pictures.attention-=
ngn.com/portal/31/398829/products/1537996611.757_115_o.jpg=0D
=0D
=0D
Bonne visite sur notre site http://mada-market.herokuapp.com !=0D

----==_mimepart_5d8364c91ba1b_38382ad90125bf5c257a6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
<head>=0D
	<meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Type'=
 />=0D
</head>=0D
<body>=0D
	<h1>Bonjour test@gmail.com et merci pour votre commande !</h1>=0D
	<p>=0D
		Vous venez juste de confirmer votre commande!=0D
	</p>=0D
	<p>Voil=C3=A0 votre commande :</p>=0D
	=0D
	<!-- We do a loop in order to display in the mail the title and the imag=
e -->=0D
	<h2>=0D
		Sakoa=0D
	</h2>=0D
	<p>=0D
		<img src=3D"https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0=
e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151=
561849_n.jpg?_nc_ht=3Dscontent-frx5-1.cdninstagram.com" width=3D"600" hei=
ght=3D"auto" alt=3D"Sakoa image">=0D
	</p>=0D
	<h2>=0D
		Harona=0D
	</h2>=0D
	<p>=0D
		<img src=3D"https://pictures.attention-ngn.com/portal/31/398829/product=
s/1537996611.757_115_o.jpg" width=3D"600" height=3D"auto" alt=3D"Harona i=
mage">=0D
	</p>=0D
	<p>=0D
		 Bonne visite sur notre site <a href=3D"http://mada-market.herokuapp.co=
m">http://mada-market.herokuapp.com</a> !=0D
	</p>=0D
</body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d8364c91ba1b_38382ad90125bf5c257a6--

  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/charges_controller.rb:35:in `create'
  [1m[36mCartProduct Load (0.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:40:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[36mCartProduct Destroy (0.9ms)[0m  [1m[31mDELETE FROM "cart_products" WHERE "cart_products"."id" = $1[0m  [["id", 1]]
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[35m (33.4ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[36mCartProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM "cart_products" WHERE "cart_products"."id" = $1[0m  [["id", 2]]
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[35m (49.2ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/charges_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/commands
Completed 302 Found in 7171ms (ActiveRecord: 111.8ms | Allocations: 66998)


Started GET "/commands" for ::1 at 2019-09-19 14:21:45 +0300
Processing by CommandsController#index as HTML
  Rendering commands/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:33
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 100.2ms | Allocations: 4176)
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.4ms | Allocations: 801)
  Rendered commands/index.html.erb within layouts/application (Duration: 123.7ms | Allocations: 5246)
Completed 200 OK in 167ms (Views: 163.4ms | ActiveRecord: 2.6ms | Allocations: 33385)


Started GET "/" for ::1 at 2019-09-19 14:22:09 +0300
Processing by ProductsController#index as HTML
  Parameters: {"authenticity_token"=>"QZdejQ/ivxqX9/lwrvt12iLSUNy9vtzOQy50mT9MTbPXzif5h4CqzBQuBVreKHytgXxH4MSjCgcwM39Pv6qpKg=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (2.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 14.8ms | Allocations: 3293)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.6ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 6933)
Completed 200 OK in 55ms (Views: 44.8ms | ActiveRecord: 7.9ms | Allocations: 35251)


Started POST "/carts.1" for ::1 at 2019-09-19 14:24:13 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"97a1bnec7hky54IUchsHACTid5iplSyL53OvuDiqfvFh78wa//77z7E+fj4CyA53h0xgpNCI+kKUbqRuuEyaaA=="}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[36mCartProduct Create (2.3ms)[0m  [1m[32mINSERT INTO "cart_products" ("quantity", "cart_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["cart_id", 1], ["product_id", 1], ["created_at", "2019-09-19 11:24:13.835649"], ["updated_at", "2019-09-19 11:24:13.835649"]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (44.8ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 68ms (ActiveRecord: 55.5ms | Allocations: 5980)


Started GET "/" for ::1 at 2019-09-19 14:24:13 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 12.4ms | Allocations: 3680)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.8ms | Allocations: 998)
  Rendered products/index.html.erb within layouts/application (Duration: 25.9ms | Allocations: 8368)
Completed 200 OK in 69ms (Views: 62.2ms | ActiveRecord: 4.7ms | Allocations: 37814)


Started GET "/carts/6" for ::1 at 2019-09-19 14:24:16 +0300
Processing by CartsController#show as HTML
  Parameters: {"authenticity_token"=>"DzZXuSrXtRpif9V5587+JOLp8XZHUgiHKQm+VTABEEyZby7NorWgzOGmKVOXHfdTQUfmSj5P3k5aFLWDsOf01Q==", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (2.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 10.8ms | Allocations: 2546)
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.7ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 18.8ms | Allocations: 5029)
Completed 200 OK in 63ms (Views: 46.6ms | ActiveRecord: 6.4ms | Allocations: 36036)


Started GET "/charges/new" for ::1 at 2019-09-19 14:24:22 +0300
Processing by ChargesController#new as HTML
  Parameters: {"authenticity_token"=>"G6fOVhh8F4eE0/ei3m5vKa+2n2hZ08w0VP/9vtrpXheN/rcikB4CUQcKC4iuvWZeDBiIVCDOGv0n4vZoWg+6jg=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (1.0ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (2.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 9.5ms | Allocations: 2546)
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.3ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 4001)
Completed 200 OK in 53ms (Views: 37.1ms | ActiveRecord: 8.8ms | Allocations: 35663)


Started GET "/carts/6" for ::1 at 2019-09-19 14:24:32 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (0.7ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 7.7ms | Allocations: 2546)
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.3ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 17.1ms | Allocations: 4504)
Completed 200 OK in 54ms (Views: 40.1ms | ActiveRecord: 6.1ms | Allocations: 34834)


Started GET "/" for ::1 at 2019-09-19 14:24:34 +0300
Processing by ProductsController#index as HTML
  Parameters: {"authenticity_token"=>"XSXJJ0eUMB0IyhhI77AuDwN3es9rcVWl5u1xSvOVluzLfLBTz/Yly4sT5GKfYyd4oNlt8xJsg2yV8Hqcc3NydQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.1ms | Allocations: 3269)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.8ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 23.3ms | Allocations: 6909)
Completed 200 OK in 57ms (Views: 47.1ms | ActiveRecord: 7.3ms | Allocations: 35216)


Started POST "/carts.2" for ::1 at 2019-09-19 14:24:39 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"JBGuOMHfUGw21J3GDG9JBJbJPg9x1LSCTId54zyEvY6ySNdMSb1FurUNYex8vEBzNWcpMwjJYks/mnI1vGJZFw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (4.7ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[36mCartProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "cart_products" ("quantity", "cart_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["cart_id", 1], ["product_id", 2], ["created_at", "2019-09-19 11:24:39.423905"], ["updated_at", "2019-09-19 11:24:39.423905"]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (25.8ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 49ms (ActiveRecord: 33.8ms | Allocations: 5979)


Started GET "/" for ::1 at 2019-09-19 14:24:39 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.8ms | Allocations: 3260)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 3.6ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 24.0ms | Allocations: 6899)
Completed 200 OK in 63ms (Views: 54.0ms | ActiveRecord: 6.1ms | Allocations: 35214)


Started POST "/carts.1" for ::1 at 2019-09-19 14:24:43 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"wf+INTpJLDDJoq+/GU9VgjAEFvZRQLaS3Cw3D1a5FVJXpvFBsis55kp7U5VpnFz1k6oByihdYFuvMTzZ1l/xyw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (2.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[36mCartProduct Load (0.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 AND "cart_products"."product_id" = $2 LIMIT $3[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mCartProduct Update (0.5ms)[0m  [1m[33mUPDATE "cart_products" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_products"."id" = $3[0m  [["quantity", 2], ["updated_at", "2019-09-19 11:24:43.816286"], ["id", 3]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[35m (57.6ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 82ms (ActiveRecord: 65.0ms | Allocations: 8662)


Started GET "/" for ::1 at 2019-09-19 14:24:43 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (2.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 13.8ms | Allocations: 3260)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.1ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 20.6ms | Allocations: 6899)
Completed 200 OK in 51ms (Views: 40.6ms | ActiveRecord: 7.7ms | Allocations: 35210)


Started GET "/carts/6" for ::1 at 2019-09-19 14:24:45 +0300
Processing by CartsController#show as HTML
  Parameters: {"authenticity_token"=>"hY3nVWkqRKgaR7lepaB8nxvgMxS3k8bboFECdDyZ4dIT1J4h4UhRfpmeRXTVc3XouE4kKM6OEBLTTAmivH8FSw==", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (6.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (0.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (2.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (2.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 15.2ms | Allocations: 2537)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 5.4ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 27.1ms | Allocations: 5503)
Completed 200 OK in 145ms (Views: 122.3ms | ActiveRecord: 14.2ms | Allocations: 36524)


Started GET "/charges/new" for ::1 at 2019-09-19 14:24:55 +0300
Processing by ChargesController#new as HTML
  Parameters: {"authenticity_token"=>"paemJ5nzFX7fYzpjD8bUL4gAT8JBM+YjulkjQHVJSaoz/t9TEZEAqFy6xkl/Fd1YK65Y/jguMOrJRCiW9a+tMw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (2.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (0.8ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 10.7ms | Allocations: 2537)
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.2ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 14.0ms | Allocations: 3589)
Completed 200 OK in 62ms (Views: 40.4ms | ActiveRecord: 10.0ms | Allocations: 35259)


Started POST "/charges" for ::1 at 2019-09-19 14:26:36 +0300
Processing by ChargesController#create as HTML
  Parameters: {"authenticity_token"=>"PwhTQ0GrSCvfngUF6w7ezlBPtWj4XtnV50gAE4aj4e2pUSo3ycld/VxH+S+b3de58+GiVIFDDxyUVQvFBkUFdA==", "stripeToken"=>"tok_1FKNmO2eZvKYlo2CxfMTrmOH", "stripeTokenType"=>"card", "stripeEmail"=>"manalintsoa@gmail.com"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:15:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/models/cart.rb:9:in `total_price'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/charges_controller.rb:35:in `create'
  [1m[36mCommand Create (0.5ms)[0m  [1m[32mINSERT INTO "commands" ("stripe_customer_id", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stripe_customer_id", "cus_Fq3uOJBtcnXHkJ"], ["customer_id", 6], ["created_at", "2019-09-19 11:26:45.903307"], ["updated_at", "2019-09-19 11:26:45.903307"]]
  â³ app/controllers/charges_controller.rb:35:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/mailers/user_mailer.rb:20:in `command_email'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/mailers/user_mailer.rb:23:in `command_email'
  Rendering user_mailer/command_email.html.erb within layouts/mailer
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/user_mailer/command_email.html.erb:14
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/user_mailer/command_email.html.erb:19
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/user_mailer/command_email.html.erb:19
  Rendered user_mailer/command_email.html.erb within layouts/mailer (Duration: 9.1ms | Allocations: 3327)
  Rendering user_mailer/command_email.text.erb within layouts/mailer
  Rendered user_mailer/command_email.text.erb within layouts/mailer (Duration: 0.5ms | Allocations: 201)
UserMailer#command_email: processed outbound mail in 19.8ms
Delivered mail 5d8365f5e2f75_38382ad90125bf5c260f7@lenovoa18.mail (26.4ms)
Date: Thu, 19 Sep 2019 14:26:45 +0300
From: madamarket.mg
To: test@gmail.com
Message-ID: <5d8365f5e2f75_38382ad90125bf5c260f7@lenovoa18.mail>
Subject: Merci pour votre commande!
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d8365f5e253f_38382ad90125bf5c25921";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d8365f5e253f_38382ad90125bf5c25921
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Bonjour test@gmail.com et merci pour votre commande=0D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=0D
=0D
Vous venez juste de confirmer votre commande !=0D
=0D
Voil=C3=A0 votre commande:=0D
=0D
<!-- We do a loop in order to display in the mail the title and the image=
 -->=0D
=0D
Sakoa=0D
=0D
 Vous pouvez acc=C3=A9der sur ce lien d'image https://scontent.cdninstagr=
am.com/vp/df4c9701f614f2e7ccfbc0e4301c7979/5DAC2049/t51.2885-15/e35/s480x=
480/12724953_770026423097258_151561849_n.jpg?_nc_ht=3Dscontent-frx5-1.cdn=
instagram.com=0D
=0D
=0D
Harona=0D
=0D
 Vous pouvez acc=C3=A9der sur ce lien d'image https://pictures.attention-=
ngn.com/portal/31/398829/products/1537996611.757_115_o.jpg=0D
=0D
=0D
Bonne visite sur notre site http://mada-market.herokuapp.com !=0D

----==_mimepart_5d8365f5e253f_38382ad90125bf5c25921
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <!DOCTYPE html>=0D
<html>=0D
<head>=0D
	<meta content=3D'text/html; charset=3DUTF-8' http-equiv=3D'Content-Type'=
 />=0D
</head>=0D
<body>=0D
	<h1>Bonjour test@gmail.com et merci pour votre commande !</h1>=0D
	<p>=0D
		Vous venez juste de confirmer votre commande!=0D
	</p>=0D
	<p>Voil=C3=A0 votre commande :</p>=0D
	=0D
	<!-- We do a loop in order to display in the mail the title and the imag=
e -->=0D
	<h2>=0D
		Sakoa=0D
	</h2>=0D
	<p>=0D
		<img src=3D"https://scontent.cdninstagram.com/vp/df4c9701f614f2e7ccfbc0=
e4301c7979/5DAC2049/t51.2885-15/e35/s480x480/12724953_770026423097258_151=
561849_n.jpg?_nc_ht=3Dscontent-frx5-1.cdninstagram.com" width=3D"600" hei=
ght=3D"auto" alt=3D"Sakoa image">=0D
	</p>=0D
	<h2>=0D
		Harona=0D
	</h2>=0D
	<p>=0D
		<img src=3D"https://pictures.attention-ngn.com/portal/31/398829/product=
s/1537996611.757_115_o.jpg" width=3D"600" height=3D"auto" alt=3D"Harona i=
mage">=0D
	</p>=0D
	<p>=0D
		 Bonne visite sur notre site <a href=3D"http://mada-market.herokuapp.co=
m">http://mada-market.herokuapp.com</a> !=0D
	</p>=0D
</body>=0D
</html>=0D
  </body>=0D
</html>=0D

----==_mimepart_5d8365f5e253f_38382ad90125bf5c25921--

  [1m[35m (21.1ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/charges_controller.rb:35:in `create'
  [1m[36mCartProduct Load (0.2ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:40:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[36mCartProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM "cart_products" WHERE "cart_products"."id" = $1[0m  [["id", 3]]
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[36mCartProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM "cart_products" WHERE "cart_products"."id" = $1[0m  [["id", 4]]
  â³ app/controllers/charges_controller.rb:41:in `block in create'
  [1m[35m (17.4ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/charges_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/commands
Completed 302 Found in 9524ms (ActiveRecord: 68.5ms | Allocations: 55347)


Started GET "/commands" for ::1 at 2019-09-19 14:26:46 +0300
Processing by CommandsController#index as HTML
  Rendering commands/index.html.erb within layouts/application
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:33
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 21.3ms | Allocations: 4174)
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.6ms | Allocations: 801)
  Rendered commands/index.html.erb within layouts/application (Duration: 24.1ms | Allocations: 5241)
Completed 200 OK in 70ms (Views: 65.4ms | ActiveRecord: 3.1ms | Allocations: 33378)


Started GET "/" for ::1 at 2019-09-19 14:32:57 +0300
Processing by ProductsController#index as HTML
  Parameters: {"authenticity_token"=>"5uARidX9YjTJAvYYr1rJnXPtQF2xc8mZj8SD6skiei9wuWj9XZ934krbCjLficDq0ENXYchuH1D82Yg8ScSetg=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 26.9ms | Allocations: 12974)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.6ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 51.4ms | Allocations: 23008)
Completed 200 OK in 124ms (Views: 92.8ms | ActiveRecord: 8.0ms | Allocations: 63559)


Started POST "/carts.2" for ::1 at 2019-09-19 14:33:00 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"U+Dum48RI4hoih/bYbrvJfc2XJ5FfnVh6TvEZLbQvrLFuZfvB3M2XutT4/ERaeZSVJhLojxjo6iaJs+yNjZaKw=="}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[36mCartProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "cart_products" ("quantity", "cart_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["cart_id", 1], ["product_id", 2], ["created_at", "2019-09-19 11:33:00.654508"], ["updated_at", "2019-09-19 11:33:00.654508"]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 50ms (ActiveRecord: 21.0ms | Allocations: 10013)


Started GET "/" for ::1 at 2019-09-19 14:33:00 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 8.0ms | Allocations: 3260)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.8ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 6899)
Completed 200 OK in 63ms (Views: 56.3ms | ActiveRecord: 3.4ms | Allocations: 35209)


Started POST "/carts.1" for ::1 at 2019-09-19 14:33:03 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"woqyr7wIbpc9TOe4CGosBiTWJNMqykqxXXqklWVv82ZU08vbNGp7Qb6VG5J4uSVxh3gz71PXnHguZ69D5YkX/w=="}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (3.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[36mCartProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "cart_products" ("quantity", "cart_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["cart_id", 1], ["product_id", 1], ["created_at", "2019-09-19 11:33:03.069303"], ["updated_at", "2019-09-19 11:33:03.069303"]]
  â³ app/controllers/carts_controller.rb:7:in `create'
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 26.5ms | Allocations: 5980)


Started GET "/" for ::1 at 2019-09-19 14:33:03 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 8.9ms | Allocations: 3260)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.3ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 20.7ms | Allocations: 6900)
Completed 200 OK in 60ms (Views: 52.5ms | ActiveRecord: 4.1ms | Allocations: 35206)


Started POST "/carts.2" for ::1 at 2019-09-19 14:33:05 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"oGK5iaGKD5xXKEmRCnZDha5dgT/GNP7wOvaM6pxTuPY2O8D9KegaStTxtbt6pUryDfOWA78pKDlJ64c8HLVcbw=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[36mCartProduct Load (0.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 AND "cart_products"."product_id" = $2 LIMIT $3[0m  [["cart_id", 1], ["product_id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mCartProduct Update (0.5ms)[0m  [1m[33mUPDATE "cart_products" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_products"."id" = $3[0m  [["quantity", 2], ["updated_at", "2019-09-19 11:33:05.425206"], ["id", 5]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[35m (20.0ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 48ms (ActiveRecord: 27.2ms | Allocations: 9111)


Started GET "/" for ::1 at 2019-09-19 14:33:05 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 11.6ms | Allocations: 3260)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 6899)
Completed 200 OK in 100ms (Views: 91.5ms | ActiveRecord: 5.2ms | Allocations: 35211)


Started POST "/carts.1" for ::1 at 2019-09-19 14:33:07 +0300
Processing by CartsController#create as 
  Parameters: {"authenticity_token"=>"g4eEuCle8xHU7WnKj/zC3ydGuuN2bC4AwobgX/1YygcV3v3MoTzmx1c0leD/L8uohOit3w9x+Mmxm+uJfb4ung=="}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:4:in `create'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1 AND "products"."id" = $2 LIMIT $3[0m  [["cart_id", 1], ["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:6:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[36mCartProduct Load (2.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1 AND "cart_products"."product_id" = $2 LIMIT $3[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:11:in `create'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[36mCartProduct Update (1.3ms)[0m  [1m[33mUPDATE "cart_products" SET "quantity" = $1, "updated_at" = $2 WHERE "cart_products"."id" = $3[0m  [["quantity", 2], ["updated_at", "2019-09-19 11:33:07.705631"], ["id", 6]]
  â³ app/controllers/carts_controller.rb:14:in `create'
  [1m[35m (18.6ms)[0m  [1m[35mCOMMIT[0m
  â³ app/controllers/carts_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 49ms (ActiveRecord: 30.7ms | Allocations: 8630)


Started GET "/" for ::1 at 2019-09-19 14:33:07 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 12.0ms | Allocations: 3260)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â³ app/views/products/index.html.erb:72
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/products/index.html.erb:82
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.7ms | Allocations: 801)
  Rendered products/index.html.erb within layouts/application (Duration: 20.1ms | Allocations: 6899)
Completed 200 OK in 50ms (Views: 43.4ms | ActiveRecord: 4.1ms | Allocations: 35205)


Started GET "/carts/6" for ::1 at 2019-09-19 14:33:09 +0300
Processing by CartsController#show as HTML
  Parameters: {"authenticity_token"=>"hPXDRxRvJqpMTwKYKh21tMLCKHg0c/O0mf/sB2eeFYsSrLoznA0zfM+W/rJazrzDYWw/RE1uJX3q4ufR53jxEg==", "id"=>"6"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:24:in `show'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:26:in `show'
  [1m[36mCartProduct Load (1.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/carts_controller.rb:27:in `show'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/carts_controller.rb:28:in `block in show'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mCategory Load (2.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 12.6ms | Allocations: 2546)
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Product"], ["name", "picture"], ["LIMIT", 1]]
  â³ app/views/carts/show.html.erb:32
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 4.2ms | Allocations: 801)
  Rendered carts/show.html.erb within layouts/application (Duration: 23.1ms | Allocations: 5514)
Completed 200 OK in 83ms (Views: 55.5ms | ActiveRecord: 13.6ms | Allocations: 36863)


Started GET "/charges/new" for ::1 at 2019-09-19 14:33:15 +0300
Processing by ChargesController#new as HTML
  Parameters: {"authenticity_token"=>"djlmqy1nyZP0SMRWmrm5gMNA44ETGJ+IxhH7xPLUIPngYB/fpQXcRXeROHzqarD3YO70vWoFSUG1DPAScjLEYA=="}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (1.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (1.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (2.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 10.8ms | Allocations: 2547)
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 12.9ms | Allocations: 3603)
Completed 200 OK in 56ms (Views: 34.8ms | ActiveRecord: 12.5ms | Allocations: 35514)


Started GET "/charges/new" for ::1 at 2019-09-19 14:33:58 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (0.4ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 14.6ms | Allocations: 5664)
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.3ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 16.6ms | Allocations: 6721)
Completed 200 OK in 139ms (Views: 35.1ms | ActiveRecord: 27.2ms | Allocations: 66545)


Started GET "/charges/new" for ::1 at 2019-09-19 14:34:50 +0300
Processing by ChargesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 6], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:4:in `new'
  [1m[36mCartProduct Load (0.3ms)[0m  [1m[34mSELECT "cart_products".* FROM "cart_products" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/controllers/charges_controller.rb:9:in `new'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/controllers/charges_controller.rb:10:in `block in new'
  Rendering charges/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_nav.html.erb:27
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_products" ON "products"."id" = "cart_products"."product_id" WHERE "cart_products"."cart_id" = $1[0m  [["cart_id", 1]]
  â³ app/views/layouts/_nav.html.erb:58
  Rendered layouts/_nav.html.erb (Duration: 19.0ms | Allocations: 5663)
  [1m[36mCACHE Category Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 1.6ms | Allocations: 801)
  Rendered charges/new.html.erb within layouts/application (Duration: 21.6ms | Allocations: 6720)
Completed 200 OK in 162ms (Views: 83.8ms | ActiveRecord: 21.4ms | Allocations: 66479)


