  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (24.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (608.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (550.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_test"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_test"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_development"[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "MadaMarket_test"[0m
  [1m[35m (1788.1ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_development" ENCODING = 'unicode'[0m
  [1m[35m (1300.1ms)[0m  [1m[35mCREATE DATABASE "MadaMarket_test" ENCODING = 'unicode'[0m
  [1m[35m (238.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (229.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3281140153614043980)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20190910114606)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (258.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying DEFAULT '' NOT NULL, "last_name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "address" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_admin" boolean DEFAULT FALSE)[0m
  [1m[35m (64.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (51.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (14.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190910114606"]]
  [1m[35m (41.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20190911051137)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (201.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "title" character varying, "description" text, "price" float, "image_url" character varying, "provider_id" bigint, "category_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (61.7ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_provider_id" ON "products"  ("provider_id")[0m
  [1m[35m (73.6ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_category_id" ON "products"  ("category_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051137"]]
  [1m[35m (18.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20190911051311)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (186.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "title" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051311"]]
  [1m[35m (19.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20190911051333)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (145.1ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.2ms)[0m  [1m[35mCREATE  INDEX  "index_carts_on_customer_id" ON "carts"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051333"]]
  [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLikes (20190911051349)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (102.7ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "customer_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (86.5ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_customer_id" ON "likes"  ("customer_id")[0m
  [1m[35m (63.4ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_product_id" ON "likes"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051349"]]
  [1m[35m (17.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommands (20190911051441)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (183.6ms)[0m  [1m[35mCREATE TABLE "commands" ("id" bigserial primary key, "stripe_customer_id" character varying, "customer_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.1ms)[0m  [1m[35mCREATE  INDEX  "index_commands_on_customer_id" ON "commands"  ("customer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051441"]]
  [1m[35m (25.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartProducts (20190911051729)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (102.4ms)[0m  [1m[35mCREATE TABLE "cart_products" ("id" bigserial primary key, "cart_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.3ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_cart_id" ON "cart_products"  ("cart_id")[0m
  [1m[35m (63.5ms)[0m  [1m[35mCREATE  INDEX  "index_cart_products_on_product_id" ON "cart_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051729"]]
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommandProducts (20190911051742)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (106.8ms)[0m  [1m[35mCREATE TABLE "command_products" ("id" bigserial primary key, "command_id" bigint, "product_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (64.2ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_command_id" ON "command_products"  ("command_id")[0m
  [1m[35m (64.1ms)[0m  [1m[35mCREATE  INDEX  "index_command_products_on_product_id" ON "command_products"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911051742"]]
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCities (20190911063151)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (173.6ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying, "zip_code" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063151"]]
  [1m[35m (24.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20190911063650)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (179.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (52.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (132.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (85.8ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (51.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190911063650"]]
  [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-09-18 00:18:25.528749"], ["updated_at", "2019-09-18 00:18:25.528749"]]
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3281140153614043980)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2019-09-18 03:18:38 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 7.8ms | Allocations: 2103)
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" ASC[0m
  â†³ app/views/products/index.html.erb:72
  Rendered products/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 5768)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 12.9ms | Allocations: 15598)



NoMethodError - undefined method `picture' for nil:NilClass:
  app/views/products/index.html.erb:79
  app/views/products/index.html.erb:75

Started POST "/__better_errors/d254d4abf967f22a/variables" for ::1 at 2019-09-18 03:18:38 +0300
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for ::1 at 2019-09-18 03:22:23 +0300
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:6:in `index'
  Rendering products/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/layouts/_nav.html.erb:27
  Rendered layouts/_nav.html.erb (Duration: 2.5ms | Allocations: 1158)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  â†³ app/views/products/index.html.erb:71
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/layouts/_footer.html.erb:15
  Rendered layouts/_footer.html.erb (Duration: 2.0ms | Allocations: 736)
  Rendered products/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 3494)
[Webpacker] Compilingâ€¦
[Webpacker] Compiled all packs in /home/dev/Documents/riana/THP5/MadaMarket/public/packs
Completed 200 OK in 3165ms (Views: 3162.0ms | ActiveRecord: 1.1ms | Allocations: 1307125)


